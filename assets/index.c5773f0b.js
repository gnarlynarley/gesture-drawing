const Br=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};Br();(function(){if(!("onload"in XMLHttpRequest.prototype)||navigator.standalone)return;const r=!1,e=["standalone","fullscreen","minimal-ui"],n="#f8f9fa",t=24,o="HelveticaNeue-CondensedBold",i=128,a=48,u=20,c=120,l=navigator.userAgent||"",d=navigator.vendor&&navigator.vendor.indexOf("Apple")!==-1&&(l.indexOf("Mobile/")!==-1||"standalone"in navigator)||r,m=Boolean(l.match(/(MSIE |Edge\/|Trident\/)/)),w=typeof Windows!="undefined";let y,S;try{S=sessionStorage}catch{}S=S||{};function R(x){try{return document.head.querySelector(x)}catch{return null}}function Y(x,Q){const re="__pwacompat_"+x;return Q!==void 0&&(S[re]=Q),S[re]}function U(){y=R('link[rel="manifest"]');const x=y?y.href:"";if(!x)throw`can't find <link rel="manifest" href=".." />'`;const Q=J([x,location]),re=Y("manifest");if(re){try{const de=JSON.parse(re);V(de,Q)}catch(de){console.warn("PWACompat error",de)}return}const oe=new XMLHttpRequest;oe.open("GET",x),oe.withCredentials=y.getAttribute("crossorigin")==="use-credentials",oe.onload=()=>{try{const de=JSON.parse(oe.responseText);Y("manifest",oe.responseText),V(de,Q)}catch(de){console.warn("PWACompat error",de)}},oe.send(null)}function J(x){for(let Q=0;Q<x.length;++Q){const re=x[Q];try{return new URL("",re),oe=>new URL(oe||"",re).toString()}catch{}}return Q=>Q||""}function ue(x,Q,re){if(R(x+re))return;const oe=document.createElement(x);for(const de in Q)oe.setAttribute(de,Q[de]);return document.head.appendChild(oe),oe}function C(x,Q){Q&&(Q===!0&&(Q="yes"),ue("meta",{name:x,content:Q},`[name="${x}"]`))}function j(x){const Q=x.sizes.split(/\s+/g).map(re=>re==="any"?1/0:parseInt(re,10)||0);return{src:x.src,type:x.type,sizes:x.sizes,largestSize:Math.max.apply(null,Q),purpose:x.purpose?x.purpose.split(/\s+/g):["any"]}}function V(x,Q){const re=(x.icons||[]).map(j).sort((Z,le)=>le.largestSize-Z.largestSize),oe=re.filter(Z=>Z.purpose.indexOf("any")>-1),de=re.filter(Z=>Z.purpose.indexOf("maskable")>-1),Be=(de.length>0?de:oe).map(Z=>{const le={rel:"icon",href:Q(Z.src),sizes:Z.sizes},pe=`[sizes="${Z.sizes}"]`;if(ue("link",le,'[rel="icon"]'+pe),!!d&&!(Z.largestSize<c))return le.rel="apple-touch-icon",ue("link",le,'[rel="apple-touch-icon"]'+pe)}).filter(Boolean),Ve=R('meta[name="viewport"]'),xt=Ve&&Ve.content||"",Ht=Boolean(xt.match(/\bviewport-fit\s*=\s*cover\b/)),bt=x.display,lt=e.indexOf(bt)!==-1;if(C("mobile-web-app-capable",lt),H(x.theme_color||"black",Ht),m){C("application-name",x.short_name),C("msapplication-tooltip",x.description),C("msapplication-starturl",Q(x.start_url||".")),C("msapplication-navbutton-color",x.theme_color);const Z=oe[0];Z&&C("msapplication-TileImage",Q(Z.src)),C("msapplication-TileColor",x.background_color)}if(C("theme-color",x.theme_color),!d){const Z=D(x.orientation);C("x5-orientation",Z),C("screen-orientation",Z),bt==="fullscreen"?(C("x5-fullscreen","true"),C("full-screen","yes")):lt&&(C("x5-page-mode","app"),C("browsermode","application"));return}const Je=x.background_color||n,Vt=ke(Je),wt=X(x.related_applications);wt&&C("apple-itunes-app",`app-id=${wt}`),C("apple-mobile-web-app-capable",lt),C("apple-mobile-web-app-title",x.short_name||x.name);function yt(Z,le,pe,Ce){const be=window.devicePixelRatio,we=Ne({width:Z*be,height:le*be});if(we.scale(be,be),we.fillStyle=Je,we.fillRect(0,0,Z,le),we.translate(Z/2,(le-u)/2),Ce){let Ie=Ce.width/be,ye=Ce.height/be;ye>i&&(Ie/=ye/i,ye=i),Ie>=a&&ye>=a&&(we.drawImage(Ce,Ie/-2,ye/-2,Ie,ye),we.translate(0,ye/2+u))}we.fillStyle=Vt?"white":"black",we.font=`${t}px ${o}`;const Et=getComputedStyle(y);we.font=Et.getPropertyValue("--pwacompat-splash-font");const et=x.name||x.short_name||document.title,tt=we.measureText(et),ft=tt.actualBoundingBoxAscent||t;if(we.translate(0,ft),tt.width<Z*.8)we.fillText(et,tt.width/-2,0);else{const Ie=et.split(/\s+/g);for(let ye=1;ye<=Ie.length;++ye){const ut=Ie.slice(0,ye).join(" "),ct=we.measureText(ut).width;(ye===Ie.length||ct>Z*.6)&&(we.fillText(ut,ct/-2,0),we.translate(0,ft*1.2),Ie.splice(0,ye),ye=0)}}return()=>{const Ie=we.canvas.toDataURL();return at(pe,Ie),Ie}}function at(Z,le){const pe=document.createElement("link");pe.setAttribute("rel","apple-touch-startup-image"),pe.setAttribute("media",`(orientation: ${Z})`),pe.setAttribute("href",le),document.head.appendChild(pe)}const St=Y("iOS");if(St)try{const Z=JSON.parse(St);at("portrait",Z.p),at("landscape",Z.l),Be.forEach(le=>{const pe=Z.i[le.href];pe&&(le.href=pe)});return}catch{}const qe={i:{}};function Ae(Z,le){const pe=window.screen,Ce=yt(pe.width,pe.height,"portrait",Z),be=yt(pe.height,pe.width,"landscape",Z);setTimeout(()=>{qe.p=Ce(),setTimeout(()=>{qe.l=be(),le()},10)},10)}function jt(Z){let le=Be.length+1;const pe=()=>{--le||Z()};pe(),Be.forEach(Ce=>{const be=new Image;be.crossOrigin="anonymous",be.onerror=pe,be.onload=()=>{be.onload=null,Ce.href=Le(be,Je,!0),qe.i[be.src]=Ce.href,pe()},be.src=Ce.href})}function Ze(){Y("iOS",JSON.stringify(qe))}function Ye(){const Z=Be.shift();if(!Z){Ae(null,Ze);return}const le=new Image;le.crossOrigin="anonymous",le.onerror=()=>void Ye(),le.onload=()=>{le.onload=null,Ae(le,()=>{const pe=x.background_color&&Le(le,Je);pe?(Z.href=pe,qe.i[le.src]=pe,jt(Ze)):Ze()})},le.src=Z.href}Ye()}function X(x){let Q;return(x||[]).filter(re=>re.platform==="itunes").forEach(re=>{if(re.id)Q=re.id;else{const oe=re.url.match(/id(\d+)/);oe&&(Q=oe[1])}}),Q}function D(x){const Q=String(x||"").substr(0,3);return{por:"portrait",lan:"landscape"}[Q]||""}function H(x,Q){if(!(d||w))return;const re=ke(x);if(d)C("apple-mobile-web-app-status-bar-style",Q?"black-translucent":re?"black":"default");else{const oe=se();if(!oe)return;const de=re?255:0;oe.foregroundColor={r:de,g:de,b:de,a:255},oe.backgroundColor=G(x)}}function se(){try{return Windows.UI.ViewManagement.ApplicationView.getForCurrentView().titleBar}catch{}}function G(x){const Q=$e(x);return{r:Q[0],g:Q[1],b:Q[2],a:Q[3]}}function $e(x){const Q=Ne();return Q.fillStyle=x,Q.fillRect(0,0,1,1),Q.getImageData(0,0,1,1).data||[]}function ke(x){const re=$e(x).map(Be=>{const Ve=Be/255;return Ve<.03928?Ve/12.92:Math.pow((Ve+.055)/1.055,2.4)}),oe=.2126*re[0]+.7152*re[1]+.0722*re[2];return Math.abs(1.05/(oe+.05))>3}function Le(x,Q,re=!1){const oe=Ne(x);if(oe.drawImage(x,0,0),!(!re&&oe.getImageData(0,0,1,1).data[3]===255))return oe.globalCompositeOperation="destination-over",oe.fillStyle=Q,oe.fillRect(0,0,x.width,x.height),oe.canvas.toDataURL()}function Ne({width:x,height:Q}={width:1,height:1}){const re=document.createElement("canvas");return re.width=x,re.height=Q,re.getContext("2d")}document.readyState==="complete"?U():window.addEventListener("load",U)})();function q(){}function Mr(r,e){for(const n in e)r[n]=e[n];return r}function xn(r){return r()}function bn(){return Object.create(null)}function st(r){r.forEach(xn)}function ln(r){return typeof r=="function"}function ie(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let kt;function Pt(r,e){return kt||(kt=document.createElement("a")),kt.href=e,r===kt.href}function Fr(r){return Object.keys(r).length===0}function an(r,...e){if(r==null)return q;const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Ke(r,e,n){r.$$.on_destroy.push(an(e,n))}function Fe(r,e,n,t){if(r){const o=Hn(r,e,n,t);return r[0](o)}}function Hn(r,e,n,t){return r[1]&&t?Mr(n.ctx.slice(),r[1](t(e))):n.ctx}function Ue(r,e,n,t){if(r[2]&&t){const o=r[2](t(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const i=[],a=Math.max(e.dirty.length,o.length);for(let u=0;u<a;u+=1)i[u]=e.dirty[u]|o[u];return i}return e.dirty|o}return e.dirty}function xe(r,e,n,t,o,i){if(o){const a=Hn(e,n,t,i);r.p(a,o)}}function He(r){if(r.ctx.length>32){const e=[],n=r.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function ht(r,e,n){return r.set(n),e}function F(r,e){r.appendChild(e)}function B(r,e,n){r.insertBefore(e,n||null)}function z(r){r.parentNode.removeChild(r)}function Ur(r,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].d(e)}function K(r){return document.createElement(r)}function te(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ee(r){return document.createTextNode(r)}function ee(){return Ee(" ")}function Mt(){return Ee("")}function Pe(r,e,n,t){return r.addEventListener(e,n,t),()=>r.removeEventListener(e,n,t)}function b(r,e,n){n==null?r.removeAttribute(e):r.getAttribute(e)!==n&&r.setAttribute(e,n)}function xr(r){return Array.from(r.childNodes)}function We(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function wn(r,e){r.value=e==null?"":e}function ge(r,e,n){r.classList[n?"add":"remove"](e)}let _t;function vt(r){_t=r}function Hr(){if(!_t)throw new Error("Function called outside component initialization");return _t}function nn(r){Hr().$$.on_destroy.push(r)}const gt=[],Oe=[],Nt=[],rn=[],Vr=Promise.resolve();let on=!1;function jr(){on||(on=!0,Vr.then(Vn))}function sn(r){Nt.push(r)}function ot(r){rn.push(r)}const Xt=new Set;let Ct=0;function Vn(){const r=_t;do{for(;Ct<gt.length;){const e=gt[Ct];Ct++,vt(e),Wr(e.$$)}for(vt(null),gt.length=0,Ct=0;Oe.length;)Oe.pop()();for(let e=0;e<Nt.length;e+=1){const n=Nt[e];Xt.has(n)||(Xt.add(n),n())}Nt.length=0}while(gt.length);for(;rn.length;)rn.pop()();on=!1,Xt.clear(),vt(r)}function Wr(r){if(r.fragment!==null){r.update(),st(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(sn)}}const zt=new Set;let Qe;function De(){Qe={r:0,c:[],p:Qe}}function Te(){Qe.r||st(Qe.c),Qe=Qe.p}function I(r,e){r&&r.i&&(zt.delete(r),r.i(e))}function k(r,e,n,t){if(r&&r.o){if(zt.has(r))return;zt.add(r),Qe.c.push(()=>{zt.delete(r),t&&(n&&r.d(1),t())}),r.o(e)}}function qr(r,e){k(r,1,1,()=>{e.delete(r.key)})}function Yr(r,e,n,t,o,i,a,u,c,l,v,d){let m=r.length,w=i.length,y=m;const S={};for(;y--;)S[r[y].key]=y;const R=[],Y=new Map,U=new Map;for(y=w;y--;){const j=d(o,i,y),V=n(j);let X=a.get(V);X?t&&X.p(j,e):(X=l(V,j),X.c()),Y.set(V,R[y]=X),V in S&&U.set(V,Math.abs(y-S[V]))}const J=new Set,ue=new Set;function C(j){I(j,1),j.m(u,v),a.set(j.key,j),v=j.first,w--}for(;m&&w;){const j=R[w-1],V=r[m-1],X=j.key,D=V.key;j===V?(v=j.first,m--,w--):Y.has(D)?!a.has(X)||J.has(X)?C(j):ue.has(D)?m--:U.get(X)>U.get(D)?(ue.add(X),C(j)):(J.add(D),m--):(c(V,a),m--)}for(;m--;){const j=r[m];Y.has(j.key)||c(j,a)}for(;w;)C(R[w-1]);return R}function it(r,e,n){const t=r.$$.props[e];t!==void 0&&(r.$$.bound[t]=n,n(r.$$.ctx[t]))}function M(r){r&&r.c()}function P(r,e,n,t){const{fragment:o,on_mount:i,on_destroy:a,after_update:u}=r.$$;o&&o.m(e,n),t||sn(()=>{const c=i.map(xn).filter(ln);a?a.push(...c):st(c),r.$$.on_mount=[]}),u.forEach(sn)}function O(r,e){const n=r.$$;n.fragment!==null&&(st(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Gr(r,e){r.$$.dirty[0]===-1&&(gt.push(r),jr(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function ae(r,e,n,t,o,i,a,u=[-1]){const c=_t;vt(r);const l=r.$$={fragment:null,ctx:null,props:i,update:q,not_equal:o,bound:bn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:bn(),dirty:u,skip_bound:!1,root:e.target||c.$$.root};a&&a(l.root);let v=!1;if(l.ctx=n?n(r,e.props||{},(d,m,...w)=>{const y=w.length?w[0]:m;return l.ctx&&o(l.ctx[d],l.ctx[d]=y)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](y),v&&Gr(r,d)),m}):[],l.update(),v=!0,st(l.before_update),l.fragment=t?t(l.ctx):!1,e.target){if(e.hydrate){const d=xr(e.target);l.fragment&&l.fragment.l(d),d.forEach(z)}else l.fragment&&l.fragment.c();e.intro&&I(r.$$.fragment),P(r,e.target,e.anchor,e.customElement),Vn()}vt(c)}class fe{$destroy(){O(this,1),this.$destroy=q}$on(e,n){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const o=t.indexOf(n);o!==-1&&t.splice(o,1)}}$set(e){this.$$set&&!Fr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Qr(r){let e,n,t,o,i;const a=r[7].default,u=Fe(a,r,r[6],null);return{c(){e=K("button"),n=K("span"),u&&u.c(),b(e,"type","button"),b(e,"class","button svelte-1ionpwl"),b(e,"title",r[4]),e.disabled=r[2],ge(e,"has-icon",r[1]),ge(e,"primary",r[3]==="primary"),ge(e,"transparent",r[3]==="transparent")},m(c,l){B(c,e,l),F(e,n),u&&u.m(n,null),t=!0,o||(i=Pe(e,"click",function(){ln(r[0])&&r[0].apply(this,arguments)}),o=!0)},p(c,l){r=c,u&&u.p&&(!t||l&64)&&xe(u,a,r,r[6],t?Ue(a,r[6],l,null):He(r[6]),null),(!t||l&16)&&b(e,"title",r[4]),(!t||l&4)&&(e.disabled=r[2]),l&2&&ge(e,"has-icon",r[1]),l&8&&ge(e,"primary",r[3]==="primary"),l&8&&ge(e,"transparent",r[3]==="transparent")},i(c){t||(I(u,c),t=!0)},o(c){k(u,c),t=!1},d(c){c&&z(e),u&&u.d(c),o=!1,i()}}}function Kr(r){let e,n;const t=r[7].default,o=Fe(t,r,r[6],null);return{c(){e=K("span"),o&&o.c(),b(e,"class","button svelte-1ionpwl"),ge(e,"has-icon",r[1]),ge(e,"primary",r[3]==="primary"),ge(e,"transparent",r[3]==="transparent")},m(i,a){B(i,e,a),o&&o.m(e,null),n=!0},p(i,a){o&&o.p&&(!n||a&64)&&xe(o,t,i,i[6],n?Ue(t,i[6],a,null):He(i[6]),null),a&2&&ge(e,"has-icon",i[1]),a&8&&ge(e,"primary",i[3]==="primary"),a&8&&ge(e,"transparent",i[3]==="transparent")},i(i){n||(I(o,i),n=!0)},o(i){k(o,i),n=!1},d(i){i&&z(e),o&&o.d(i)}}}function Xr(r){let e,n,t,o;const i=[Kr,Qr],a=[];function u(c,l){return c[5]?0:1}return e=u(r),n=a[e]=i[e](r),{c(){n.c(),t=Mt()},m(c,l){a[e].m(c,l),B(c,t,l),o=!0},p(c,[l]){let v=e;e=u(c),e===v?a[e].p(c,l):(De(),k(a[v],1,1,()=>{a[v]=null}),Te(),n=a[e],n?n.p(c,l):(n=a[e]=i[e](c),n.c()),I(n,1),n.m(t.parentNode,t))},i(c){o||(I(n),o=!0)},o(c){k(n),o=!1},d(c){a[e].d(c),c&&z(t)}}}function Jr(r,e,n){let{$$slots:t={},$$scope:o}=e,{onClick:i=void 0}=e,{icon:a=!1}=e,{disabled:u=!1}=e,{variant:c="default"}=e,{title:l=void 0}=e,{displayOnly:v=!1}=e;return r.$$set=d=>{"onClick"in d&&n(0,i=d.onClick),"icon"in d&&n(1,a=d.icon),"disabled"in d&&n(2,u=d.disabled),"variant"in d&&n(3,c=d.variant),"title"in d&&n(4,l=d.title),"displayOnly"in d&&n(5,v=d.displayOnly),"$$scope"in d&&n(6,o=d.$$scope)},[i,a,u,c,l,v,o,t]}class _e extends fe{constructor(e){super(),ae(this,e,Jr,Xr,ie,{onClick:0,icon:1,disabled:2,variant:3,title:4,displayOnly:5})}}function Zr(r){let e,n;return{c(){e=te("svg"),n=te("path"),b(n,"d","M11.95 18q.525 0 .888-.363.362-.362.362-.887t-.362-.887q-.363-.363-.888-.363t-.888.363q-.362.362-.362.887t.362.887q.363.363.888.363Zm-.9-3.85h1.85q0-.825.188-1.3.187-.475 1.062-1.3.65-.65 1.025-1.238.375-.587.375-1.412 0-1.4-1.025-2.15T12.1 6q-1.425 0-2.312.75-.888.75-1.238 1.8l1.65.65q.125-.45.563-.975Q11.2 7.7 12.1 7.7q.8 0 1.2.437.4.438.4.963 0 .5-.3.937-.3.438-.75.813-1.1.975-1.35 1.475-.25.5-.25 1.825ZM12 22q-2.075 0-3.9-.788-1.825-.787-3.175-2.137-1.35-1.35-2.137-3.175Q2 14.075 2 12t.788-3.9q.787-1.825 2.137-3.175 1.35-1.35 3.175-2.138Q9.925 2 12 2t3.9.787q1.825.788 3.175 2.138 1.35 1.35 2.137 3.175Q22 9.925 22 12t-.788 3.9q-.787 1.825-2.137 3.175-1.35 1.35-3.175 2.137Q14.075 22 12 22Zm0-2q3.35 0 5.675-2.325Q20 15.35 20 12q0-3.35-2.325-5.675Q15.35 4 12 4 8.65 4 6.325 6.325 4 8.65 4 12q0 3.35 2.325 5.675Q8.65 20 12 20Zm0-8Z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24"),b(e,"width","24")},m(t,o){B(t,e,o),F(e,n)},p:q,i:q,o:q,d(t){t&&z(e)}}}class eo extends fe{constructor(e){super(),ae(this,e,null,Zr,ie,{})}}const to={space:" ",esc:"Escape",left:"ArrowLeft",right:"ArrowRight"};function Ge(r,e){function n(t){(to[r]===t.key||t.key===r)&&(t.preventDefault(),e())}window.addEventListener("keydown",n,!1),nn(()=>{window.removeEventListener("keydown",n)})}function no(r){let e,n;const t=r[1].default,o=Fe(t,r,r[0],null);return{c(){e=K("div"),o&&o.c(),b(e,"class","svelte-ndp24i")},m(i,a){B(i,e,a),o&&o.m(e,null),n=!0},p(i,[a]){o&&o.p&&(!n||a&1)&&xe(o,t,i,i[0],n?Ue(t,i[0],a,null):He(i[0]),null)},i(i){n||(I(o,i),n=!0)},o(i){k(o,i),n=!1},d(i){i&&z(e),o&&o.d(i)}}}function ro(r,e,n){let{$$slots:t={},$$scope:o}=e;return r.$$set=i=>{"$$scope"in i&&n(0,o=i.$$scope)},[o,t]}class fn extends fe{constructor(e){super(),ae(this,e,ro,no,ie,{})}}function oo(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0z"),b(n,"fill","none"),b(t,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class un extends fe{constructor(e){super(),ae(this,e,null,oo,ie,{})}}function io(r){let e,n;return e=new un({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function so(r){let e;return{c(){e=Ee(r[3])},m(n,t){B(n,e,t)},p(n,t){t&8&&We(e,n[3])},d(n){n&&z(e)}}}function yn(r){let e,n;return e=new _e({props:{variant:"primary",onClick:r[5],$$slots:{default:[lo]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&3&&(i.onClick=t[5]),o&68&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function lo(r){let e;return{c(){e=Ee(r[2])},m(n,t){B(n,e,t)},p(n,t){t&4&&We(e,n[2])},d(n){n&&z(e)}}}function ao(r){let e,n,t,o,i,a,u,c;n=new _e({props:{icon:!0,onClick:r[0],$$slots:{default:[io]},$$scope:{ctx:r}}});const l=r[4].default,v=Fe(l,r,r[6],null);a=new _e({props:{variant:"transparent",onClick:r[0],$$slots:{default:[so]},$$scope:{ctx:r}}});let d=r[2]&&yn(r);return{c(){e=K("div"),M(n.$$.fragment),t=ee(),v&&v.c(),o=ee(),i=K("div"),M(a.$$.fragment),u=ee(),d&&d.c(),b(e,"class","modal__close-button svelte-1j0dm0c"),b(i,"class","modal__button-bar svelte-1j0dm0c")},m(m,w){B(m,e,w),P(n,e,null),B(m,t,w),v&&v.m(m,w),B(m,o,w),B(m,i,w),P(a,i,null),F(i,u),d&&d.m(i,null),c=!0},p(m,w){const y={};w&1&&(y.onClick=m[0]),w&64&&(y.$$scope={dirty:w,ctx:m}),n.$set(y),v&&v.p&&(!c||w&64)&&xe(v,l,m,m[6],c?Ue(l,m[6],w,null):He(m[6]),null);const S={};w&1&&(S.onClick=m[0]),w&72&&(S.$$scope={dirty:w,ctx:m}),a.$set(S),m[2]?d?(d.p(m,w),w&4&&I(d,1)):(d=yn(m),d.c(),I(d,1),d.m(i,null)):d&&(De(),k(d,1,1,()=>{d=null}),Te())},i(m){c||(I(n.$$.fragment,m),I(v,m),I(a.$$.fragment,m),I(d),c=!0)},o(m){k(n.$$.fragment,m),k(v,m),k(a.$$.fragment,m),k(d),c=!1},d(m){m&&z(e),O(n),m&&z(t),v&&v.d(m),m&&z(o),m&&z(i),O(a),d&&d.d()}}}function fo(r){let e,n,t,o,i,a,u,c;return t=new fn({props:{$$slots:{default:[ao]},$$scope:{ctx:r}}}),{c(){e=K("div"),n=K("div"),M(t.$$.fragment),o=ee(),i=K("div"),b(n,"class","modal svelte-1j0dm0c"),b(i,"class","background svelte-1j0dm0c"),b(i,"role","presentation"),b(e,"class","container svelte-1j0dm0c")},m(l,v){B(l,e,v),F(e,n),P(t,n,null),F(e,o),F(e,i),a=!0,u||(c=Pe(i,"click",function(){ln(r[0])&&r[0].apply(this,arguments)}),u=!0)},p(l,[v]){r=l;const d={};v&79&&(d.$$scope={dirty:v,ctx:r}),t.$set(d)},i(l){a||(I(t.$$.fragment,l),a=!0)},o(l){k(t.$$.fragment,l),a=!1},d(l){l&&z(e),O(t),u=!1,c()}}}function uo(r,e,n){let{$$slots:t={},$$scope:o}=e,{onClose:i}=e,{onAccept:a=void 0}=e,{onAcceptLabel:u="Ok"}=e,{onCancelLabel:c="Cancel"}=e;Ge("esc",i);const l=()=>{a==null||a(),i()};return r.$$set=v=>{"onClose"in v&&n(0,i=v.onClose),"onAccept"in v&&n(1,a=v.onAccept),"onAcceptLabel"in v&&n(2,u=v.onAcceptLabel),"onCancelLabel"in v&&n(3,c=v.onCancelLabel),"$$scope"in v&&n(6,o=v.$$scope)},[i,a,u,c,t,l,o]}class cn extends fe{constructor(e){super(),ae(this,e,uo,fo,ie,{onClose:0,onAccept:1,onAcceptLabel:2,onCancelLabel:3})}}function co(r){let e,n;const t=r[1].default,o=Fe(t,r,r[0],null);return{c(){e=K("div"),o&&o.c(),b(e,"class","container svelte-5dgyhg")},m(i,a){B(i,e,a),o&&o.m(e,null),n=!0},p(i,[a]){o&&o.p&&(!n||a&1)&&xe(o,t,i,i[0],n?Ue(t,i[0],a,null):He(i[0]),null)},i(i){n||(I(o,i),n=!0)},o(i){k(o,i),n=!1},d(i){i&&z(e),o&&o.d(i)}}}function po(r,e,n){let{$$slots:t={},$$scope:o}=e;return r.$$set=i=>{"$$scope"in i&&n(0,o=i.$$scope)},[o,t]}class Ft extends fe{constructor(e){super(),ae(this,e,po,co,ie,{})}}function mo(r){let e,n,t,o,i;const a=r[2].default,u=Fe(a,r,r[1],null);return{c(){e=K("div"),n=K("div"),t=Ee(r[0]),o=ee(),u&&u.c(),b(n,"class","label svelte-328fpx"),b(e,"class","container svelte-328fpx")},m(c,l){B(c,e,l),F(e,n),F(n,t),F(e,o),u&&u.m(e,null),i=!0},p(c,[l]){(!i||l&1)&&We(t,c[0]),u&&u.p&&(!i||l&2)&&xe(u,a,c,c[1],i?Ue(a,c[1],l,null):He(c[1]),null)},i(c){i||(I(u,c),i=!0)},o(c){k(u,c),i=!1},d(c){c&&z(e),u&&u.d(c)}}}function go(r,e,n){let{$$slots:t={},$$scope:o}=e,{label:i}=e;return r.$$set=a=>{"label"in a&&n(0,i=a.label),"$$scope"in a&&n(1,o=a.$$scope)},[i,o,t]}class Sn extends fe{constructor(e){super(),ae(this,e,go,mo,ie,{label:0})}}function ho(r){let e,n,t;return{c(){e=K("input"),b(e,"type","text"),e.disabled=r[1],b(e,"class","svelte-14t2mii")},m(o,i){B(o,e,i),wn(e,r[0]),n||(t=Pe(e,"input",r[2]),n=!0)},p(o,[i]){i&2&&(e.disabled=o[1]),i&1&&e.value!==o[0]&&wn(e,o[0])},i:q,o:q,d(o){o&&z(e),n=!1,t()}}}function vo(r,e,n){let{value:t}=e,{disabled:o=!1}=e;function i(){t=this.value,n(0,t)}return r.$$set=a=>{"value"in a&&n(0,t=a.value),"disabled"in a&&n(1,o=a.disabled)},[t,o,i]}class _o extends fe{constructor(e){super(),ae(this,e,vo,ho,ie,{value:0,disabled:1})}}function $o(r){let e,n,t,o;return{c(){e=te("svg"),n=te("path"),t=te("path"),o=te("circle"),b(n,"d","M0 0h24v24H0V0z"),b(n,"fill","none"),b(t,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"),b(o,"cx","12"),b(o,"cy","12"),b(o,"r","5"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(i,a){B(i,e,a),F(e,n),F(e,t),F(e,o)},p:q,i:q,o:q,d(i){i&&z(e)}}}class bo extends fe{constructor(e){super(),ae(this,e,null,$o,ie,{})}}function wo(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0V0z"),b(n,"fill","none"),b(t,"d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class yo extends fe{constructor(e){super(),ae(this,e,null,wo,ie,{})}}function So(r){let e,n,t,o,i,a,u,c,l,v,d,m,w,y,S;i=new bo({}),c=new yo({});const R=r[3].default,Y=Fe(R,r,r[6],null);return{c(){e=K("label"),n=K("input"),t=ee(),o=K("span"),M(i.$$.fragment),a=ee(),u=K("span"),M(c.$$.fragment),l=ee(),v=K("span"),d=Ee(r[1]),m=ee(),Y&&Y.c(),b(n,"class","input svelte-xnkfsy"),b(n,"type","radio"),n.__value=r[2],n.value=n.__value,r[5][0].push(n),b(o,"class","icon-checked svelte-xnkfsy"),b(u,"class","icon-unchecked svelte-xnkfsy"),b(v,"class","label svelte-xnkfsy"),b(e,"class","container svelte-xnkfsy")},m(U,J){B(U,e,J),F(e,n),n.checked=n.__value===r[0],F(e,t),F(e,o),P(i,o,null),F(e,a),F(e,u),P(c,u,null),F(e,l),F(e,v),F(v,d),B(U,m,J),Y&&Y.m(U,J),w=!0,y||(S=Pe(n,"change",r[4]),y=!0)},p(U,J){(!w||J&4)&&(n.__value=U[2],n.value=n.__value),J&1&&(n.checked=n.__value===U[0]),(!w||J&2)&&We(d,U[1]),Y&&Y.p&&(!w||J&64)&&xe(Y,R,U,U[6],w?Ue(R,U[6],J,null):He(U[6]),null)},i(U){w||(I(i.$$.fragment,U),I(c.$$.fragment,U),I(Y,U),w=!0)},o(U){k(i.$$.fragment,U),k(c.$$.fragment,U),k(Y,U),w=!1},d(U){U&&z(e),r[5][0].splice(r[5][0].indexOf(n),1),O(i),O(c),U&&z(m),Y&&Y.d(U),y=!1,S()}}}function Eo(r){let e,n;return e=new Ft({props:{$$slots:{default:[So]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,[o]){const i={};o&71&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Io(r,e,n){let{$$slots:t={},$$scope:o}=e,{label:i}=e,{group:a}=e,{value:u}=e;const c=[[]];function l(){a=this.__value,n(0,a)}return r.$$set=v=>{"label"in v&&n(1,i=v.label),"group"in v&&n(0,a=v.group),"value"in v&&n(2,u=v.value),"$$scope"in v&&n(6,o=v.$$scope)},[a,i,u,t,l,c,o]}class $t extends fe{constructor(e){super(),ae(this,e,Io,Eo,ie,{label:1,group:0,value:2})}}function ko(r){let e,n;const t=r[1].default,o=Fe(t,r,r[0],null);return{c(){e=K("div"),o&&o.c(),b(e,"class","container svelte-1eflcwv")},m(i,a){B(i,e,a),o&&o.m(e,null),n=!0},p(i,[a]){o&&o.p&&(!n||a&1)&&xe(o,t,i,i[0],n?Ue(t,i[0],a,null):He(i[0]),null)},i(i){n||(I(o,i),n=!0)},o(i){k(o,i),n=!1},d(i){i&&z(e),o&&o.d(i)}}}function Co(r,e,n){let{$$slots:t={},$$scope:o}=e;return r.$$set=i=>{"$$scope"in i&&n(0,o=i.$$scope)},[o,t]}class dn extends fe{constructor(e){super(),ae(this,e,Co,ko,ie,{})}}function Ro(r){return new Promise((e,n)=>{const t=document.createElement("img");t.onload=()=>{e(t)},t.onerror=()=>{n(new Error("Something went wrong loading the src"))},t.src=r})}var Rt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function At(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jn={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,e){(function(n){r.exports=n()})(function(){return function n(t,o,i){function a(l,v){if(!o[l]){if(!t[l]){var d=typeof At=="function"&&At;if(!v&&d)return d(l,!0);if(u)return u(l,!0);var m=new Error("Cannot find module '"+l+"'");throw m.code="MODULE_NOT_FOUND",m}var w=o[l]={exports:{}};t[l][0].call(w.exports,function(y){var S=t[l][1][y];return a(S||y)},w,w.exports,n,t,o,i)}return o[l].exports}for(var u=typeof At=="function"&&At,c=0;c<i.length;c++)a(i[c]);return a}({1:[function(n,t,o){(function(i){var a=i.MutationObserver||i.WebKitMutationObserver,u;if(a){var c=0,l=new a(y),v=i.document.createTextNode("");l.observe(v,{characterData:!0}),u=function(){v.data=c=++c%2}}else if(!i.setImmediate&&typeof i.MessageChannel!="undefined"){var d=new i.MessageChannel;d.port1.onmessage=y,u=function(){d.port2.postMessage(0)}}else"document"in i&&"onreadystatechange"in i.document.createElement("script")?u=function(){var R=i.document.createElement("script");R.onreadystatechange=function(){y(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},i.document.documentElement.appendChild(R)}:u=function(){setTimeout(y,0)};var m,w=[];function y(){m=!0;for(var R,Y,U=w.length;U;){for(Y=w,w=[],R=-1;++R<U;)Y[R]();U=w.length}m=!1}t.exports=S;function S(R){w.push(R)===1&&!m&&u()}}).call(this,typeof Rt!="undefined"?Rt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(n,t,o){var i=n(1);function a(){}var u={},c=["REJECTED"],l=["FULFILLED"],v=["PENDING"];t.exports=d;function d(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,C!==a&&S(this,C)}d.prototype.catch=function(C){return this.then(null,C)},d.prototype.then=function(C,j){if(typeof C!="function"&&this.state===l||typeof j!="function"&&this.state===c)return this;var V=new this.constructor(a);if(this.state!==v){var X=this.state===l?C:j;w(V,X,this.outcome)}else this.queue.push(new m(V,C,j));return V};function m(C,j,V){this.promise=C,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof V=="function"&&(this.onRejected=V,this.callRejected=this.otherCallRejected)}m.prototype.callFulfilled=function(C){u.resolve(this.promise,C)},m.prototype.otherCallFulfilled=function(C){w(this.promise,this.onFulfilled,C)},m.prototype.callRejected=function(C){u.reject(this.promise,C)},m.prototype.otherCallRejected=function(C){w(this.promise,this.onRejected,C)};function w(C,j,V){i(function(){var X;try{X=j(V)}catch(D){return u.reject(C,D)}X===C?u.reject(C,new TypeError("Cannot resolve promise with itself")):u.resolve(C,X)})}u.resolve=function(C,j){var V=R(y,j);if(V.status==="error")return u.reject(C,V.value);var X=V.value;if(X)S(C,X);else{C.state=l,C.outcome=j;for(var D=-1,H=C.queue.length;++D<H;)C.queue[D].callFulfilled(j)}return C},u.reject=function(C,j){C.state=c,C.outcome=j;for(var V=-1,X=C.queue.length;++V<X;)C.queue[V].callRejected(j);return C};function y(C){var j=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof j=="function")return function(){j.apply(C,arguments)}}function S(C,j){var V=!1;function X(G){V||(V=!0,u.reject(C,G))}function D(G){V||(V=!0,u.resolve(C,G))}function H(){j(D,X)}var se=R(H);se.status==="error"&&X(se.value)}function R(C,j){var V={};try{V.value=C(j),V.status="success"}catch(X){V.status="error",V.value=X}return V}d.resolve=Y;function Y(C){return C instanceof this?C:u.resolve(new this(a),C)}d.reject=U;function U(C){var j=new this(a);return u.reject(j,C)}d.all=J;function J(C){var j=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=C.length,X=!1;if(!V)return this.resolve([]);for(var D=new Array(V),H=0,se=-1,G=new this(a);++se<V;)$e(C[se],se);return G;function $e(ke,Le){j.resolve(ke).then(Ne,function(x){X||(X=!0,u.reject(G,x))});function Ne(x){D[Le]=x,++H===V&&!X&&(X=!0,u.resolve(G,D))}}}d.race=ue;function ue(C){var j=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=C.length,X=!1;if(!V)return this.resolve([]);for(var D=-1,H=new this(a);++D<V;)se(C[D]);return H;function se(G){j.resolve(G).then(function($e){X||(X=!0,u.resolve(H,$e))},function($e){X||(X=!0,u.reject(H,$e))})}}},{"1":1}],3:[function(n,t,o){(function(i){typeof i.Promise!="function"&&(i.Promise=n(2))}).call(this,typeof Rt!="undefined"?Rt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(n,t,o){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s};function a(s,p){if(!(s instanceof p))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var c=u();function l(){try{if(!c||!c.open)return!1;var s=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),p=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!s||p)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function v(s,p){s=s||[],p=p||{};try{return new Blob(s,p)}catch(g){if(g.name!=="TypeError")throw g;for(var f=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,h=new f,$=0;$<s.length;$+=1)h.append(s[$]);return h.getBlob(p.type)}}typeof Promise=="undefined"&&n(3);var d=Promise;function m(s,p){p&&s.then(function(f){p(null,f)},function(f){p(f)})}function w(s,p,f){typeof p=="function"&&s.then(p),typeof f=="function"&&s.catch(f)}function y(s){return typeof s!="string"&&(console.warn(s+" used as a key, but it is not a string."),s=String(s)),s}function S(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var R="local-forage-detect-blob-support",Y=void 0,U={},J=Object.prototype.toString,ue="readonly",C="readwrite";function j(s){for(var p=s.length,f=new ArrayBuffer(p),h=new Uint8Array(f),$=0;$<p;$++)h[$]=s.charCodeAt($);return f}function V(s){return new d(function(p){var f=s.transaction(R,C),h=v([""]);f.objectStore(R).put(h,"key"),f.onabort=function($){$.preventDefault(),$.stopPropagation(),p(!1)},f.oncomplete=function(){var $=navigator.userAgent.match(/Chrome\/(\d+)/),g=navigator.userAgent.match(/Edge\//);p(g||!$||parseInt($[1],10)>=43)}}).catch(function(){return!1})}function X(s){return typeof Y=="boolean"?d.resolve(Y):V(s).then(function(p){return Y=p,Y})}function D(s){var p=U[s.name],f={};f.promise=new d(function(h,$){f.resolve=h,f.reject=$}),p.deferredOperations.push(f),p.dbReady?p.dbReady=p.dbReady.then(function(){return f.promise}):p.dbReady=f.promise}function H(s){var p=U[s.name],f=p.deferredOperations.pop();if(f)return f.resolve(),f.promise}function se(s,p){var f=U[s.name],h=f.deferredOperations.pop();if(h)return h.reject(p),h.promise}function G(s,p){return new d(function(f,h){if(U[s.name]=U[s.name]||Be(),s.db)if(p)D(s),s.db.close();else return f(s.db);var $=[s.name];p&&$.push(s.version);var g=c.open.apply(c,$);p&&(g.onupgradeneeded=function(E){var A=g.result;try{A.createObjectStore(s.storeName),E.oldVersion<=1&&A.createObjectStore(R)}catch(T){if(T.name==="ConstraintError")console.warn('The database "'+s.name+'" has been upgraded from version '+E.oldVersion+" to version "+E.newVersion+', but the storage "'+s.storeName+'" already exists.');else throw T}}),g.onerror=function(E){E.preventDefault(),h(g.error)},g.onsuccess=function(){var E=g.result;E.onversionchange=function(A){A.target.close()},f(E),H(s)}})}function $e(s){return G(s,!1)}function ke(s){return G(s,!0)}function Le(s,p){if(!s.db)return!0;var f=!s.db.objectStoreNames.contains(s.storeName),h=s.version<s.db.version,$=s.version>s.db.version;if(h&&(s.version!==p&&console.warn('The database "'+s.name+`" can't be downgraded from version `+s.db.version+" to version "+s.version+"."),s.version=s.db.version),$||f){if(f){var g=s.db.version+1;g>s.version&&(s.version=g)}return!0}return!1}function Ne(s){return new d(function(p,f){var h=new FileReader;h.onerror=f,h.onloadend=function($){var g=btoa($.target.result||"");p({__local_forage_encoded_blob:!0,data:g,type:s.type})},h.readAsBinaryString(s)})}function x(s){var p=j(atob(s.data));return v([p],{type:s.type})}function Q(s){return s&&s.__local_forage_encoded_blob}function re(s){var p=this,f=p._initReady().then(function(){var h=U[p._dbInfo.name];if(h&&h.dbReady)return h.dbReady});return w(f,s,s),f}function oe(s){D(s);for(var p=U[s.name],f=p.forages,h=0;h<f.length;h++){var $=f[h];$._dbInfo.db&&($._dbInfo.db.close(),$._dbInfo.db=null)}return s.db=null,$e(s).then(function(g){return s.db=g,Le(s)?ke(s):g}).then(function(g){s.db=p.db=g;for(var E=0;E<f.length;E++)f[E]._dbInfo.db=g}).catch(function(g){throw se(s,g),g})}function de(s,p,f,h){h===void 0&&(h=1);try{var $=s.db.transaction(s.storeName,p);f(null,$)}catch(g){if(h>0&&(!s.db||g.name==="InvalidStateError"||g.name==="NotFoundError"))return d.resolve().then(function(){if(!s.db||g.name==="NotFoundError"&&!s.db.objectStoreNames.contains(s.storeName)&&s.version<=s.db.version)return s.db&&(s.version=s.db.version+1),ke(s)}).then(function(){return oe(s).then(function(){de(s,p,f,h-1)})}).catch(f);f(g)}}function Be(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Ve(s){var p=this,f={db:null};if(s)for(var h in s)f[h]=s[h];var $=U[f.name];$||($=Be(),U[f.name]=$),$.forages.push(p),p._initReady||(p._initReady=p.ready,p.ready=re);var g=[];function E(){return d.resolve()}for(var A=0;A<$.forages.length;A++){var T=$.forages[A];T!==p&&g.push(T._initReady().catch(E))}var L=$.forages.slice(0);return d.all(g).then(function(){return f.db=$.db,$e(f)}).then(function(N){return f.db=N,Le(f,p._defaultConfig.version)?ke(f):N}).then(function(N){f.db=$.db=N,p._dbInfo=f;for(var W=0;W<L.length;W++){var ne=L[W];ne!==p&&(ne._dbInfo.db=f.db,ne._dbInfo.version=f.version)}})}function xt(s,p){var f=this;s=y(s);var h=new d(function($,g){f.ready().then(function(){de(f._dbInfo,ue,function(E,A){if(E)return g(E);try{var T=A.objectStore(f._dbInfo.storeName),L=T.get(s);L.onsuccess=function(){var N=L.result;N===void 0&&(N=null),Q(N)&&(N=x(N)),$(N)},L.onerror=function(){g(L.error)}}catch(N){g(N)}})}).catch(g)});return m(h,p),h}function Ht(s,p){var f=this,h=new d(function($,g){f.ready().then(function(){de(f._dbInfo,ue,function(E,A){if(E)return g(E);try{var T=A.objectStore(f._dbInfo.storeName),L=T.openCursor(),N=1;L.onsuccess=function(){var W=L.result;if(W){var ne=W.value;Q(ne)&&(ne=x(ne));var ce=s(ne,W.key,N++);ce!==void 0?$(ce):W.continue()}else $()},L.onerror=function(){g(L.error)}}catch(W){g(W)}})}).catch(g)});return m(h,p),h}function bt(s,p,f){var h=this;s=y(s);var $=new d(function(g,E){var A;h.ready().then(function(){return A=h._dbInfo,J.call(p)==="[object Blob]"?X(A.db).then(function(T){return T?p:Ne(p)}):p}).then(function(T){de(h._dbInfo,C,function(L,N){if(L)return E(L);try{var W=N.objectStore(h._dbInfo.storeName);T===null&&(T=void 0);var ne=W.put(T,s);N.oncomplete=function(){T===void 0&&(T=null),g(T)},N.onabort=N.onerror=function(){var ce=ne.error?ne.error:ne.transaction.error;E(ce)}}catch(ce){E(ce)}})}).catch(E)});return m($,f),$}function lt(s,p){var f=this;s=y(s);var h=new d(function($,g){f.ready().then(function(){de(f._dbInfo,C,function(E,A){if(E)return g(E);try{var T=A.objectStore(f._dbInfo.storeName),L=T.delete(s);A.oncomplete=function(){$()},A.onerror=function(){g(L.error)},A.onabort=function(){var N=L.error?L.error:L.transaction.error;g(N)}}catch(N){g(N)}})}).catch(g)});return m(h,p),h}function Je(s){var p=this,f=new d(function(h,$){p.ready().then(function(){de(p._dbInfo,C,function(g,E){if(g)return $(g);try{var A=E.objectStore(p._dbInfo.storeName),T=A.clear();E.oncomplete=function(){h()},E.onabort=E.onerror=function(){var L=T.error?T.error:T.transaction.error;$(L)}}catch(L){$(L)}})}).catch($)});return m(f,s),f}function Vt(s){var p=this,f=new d(function(h,$){p.ready().then(function(){de(p._dbInfo,ue,function(g,E){if(g)return $(g);try{var A=E.objectStore(p._dbInfo.storeName),T=A.count();T.onsuccess=function(){h(T.result)},T.onerror=function(){$(T.error)}}catch(L){$(L)}})}).catch($)});return m(f,s),f}function wt(s,p){var f=this,h=new d(function($,g){if(s<0){$(null);return}f.ready().then(function(){de(f._dbInfo,ue,function(E,A){if(E)return g(E);try{var T=A.objectStore(f._dbInfo.storeName),L=!1,N=T.openKeyCursor();N.onsuccess=function(){var W=N.result;if(!W){$(null);return}s===0||L?$(W.key):(L=!0,W.advance(s))},N.onerror=function(){g(N.error)}}catch(W){g(W)}})}).catch(g)});return m(h,p),h}function yt(s){var p=this,f=new d(function(h,$){p.ready().then(function(){de(p._dbInfo,ue,function(g,E){if(g)return $(g);try{var A=E.objectStore(p._dbInfo.storeName),T=A.openKeyCursor(),L=[];T.onsuccess=function(){var N=T.result;if(!N){h(L);return}L.push(N.key),N.continue()},T.onerror=function(){$(T.error)}}catch(N){$(N)}})}).catch($)});return m(f,s),f}function at(s,p){p=S.apply(this,arguments);var f=this.config();s=typeof s!="function"&&s||{},s.name||(s.name=s.name||f.name,s.storeName=s.storeName||f.storeName);var h=this,$;if(!s.name)$=d.reject("Invalid arguments");else{var g=s.name===f.name&&h._dbInfo.db,E=g?d.resolve(h._dbInfo.db):$e(s).then(function(A){var T=U[s.name],L=T.forages;T.db=A;for(var N=0;N<L.length;N++)L[N]._dbInfo.db=A;return A});s.storeName?$=E.then(function(A){if(!!A.objectStoreNames.contains(s.storeName)){var T=A.version+1;D(s);var L=U[s.name],N=L.forages;A.close();for(var W=0;W<N.length;W++){var ne=N[W];ne._dbInfo.db=null,ne._dbInfo.version=T}var ce=new d(function(me,ve){var he=c.open(s.name,T);he.onerror=function(Re){var pt=he.result;pt.close(),ve(Re)},he.onupgradeneeded=function(){var Re=he.result;Re.deleteObjectStore(s.storeName)},he.onsuccess=function(){var Re=he.result;Re.close(),me(Re)}});return ce.then(function(me){L.db=me;for(var ve=0;ve<N.length;ve++){var he=N[ve];he._dbInfo.db=me,H(he._dbInfo)}}).catch(function(me){throw(se(s,me)||d.resolve()).catch(function(){}),me})}}):$=E.then(function(A){D(s);var T=U[s.name],L=T.forages;A.close();for(var N=0;N<L.length;N++){var W=L[N];W._dbInfo.db=null}var ne=new d(function(ce,me){var ve=c.deleteDatabase(s.name);ve.onerror=function(){var he=ve.result;he&&he.close(),me(ve.error)},ve.onblocked=function(){console.warn('dropInstance blocked for database "'+s.name+'" until all open connections are closed')},ve.onsuccess=function(){var he=ve.result;he&&he.close(),ce(he)}});return ne.then(function(ce){T.db=ce;for(var me=0;me<L.length;me++){var ve=L[me];H(ve._dbInfo)}}).catch(function(ce){throw(se(s,ce)||d.resolve()).catch(function(){}),ce})})}return m($,p),$}var St={_driver:"asyncStorage",_initStorage:Ve,_support:l(),iterate:Ht,getItem:xt,setItem:bt,removeItem:lt,clear:Je,length:Vt,key:wt,keys:yt,dropInstance:at};function qe(){return typeof openDatabase=="function"}var Ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jt="~~local_forage_type~",Ze=/^~~local_forage_type~([^~]+)~/,Ye="__lfsc__:",Z=Ye.length,le="arbf",pe="blob",Ce="si08",be="ui08",we="uic8",Et="si16",et="si32",tt="ur16",ft="ui32",Ie="fl32",ye="fl64",ut=Z+le.length,ct=Object.prototype.toString;function pn(s){var p=s.length*.75,f=s.length,h,$=0,g,E,A,T;s[s.length-1]==="="&&(p--,s[s.length-2]==="="&&p--);var L=new ArrayBuffer(p),N=new Uint8Array(L);for(h=0;h<f;h+=4)g=Ae.indexOf(s[h]),E=Ae.indexOf(s[h+1]),A=Ae.indexOf(s[h+2]),T=Ae.indexOf(s[h+3]),N[$++]=g<<2|E>>4,N[$++]=(E&15)<<4|A>>2,N[$++]=(A&3)<<6|T&63;return L}function Wt(s){var p=new Uint8Array(s),f="",h;for(h=0;h<p.length;h+=3)f+=Ae[p[h]>>2],f+=Ae[(p[h]&3)<<4|p[h+1]>>4],f+=Ae[(p[h+1]&15)<<2|p[h+2]>>6],f+=Ae[p[h+2]&63];return p.length%3===2?f=f.substring(0,f.length-1)+"=":p.length%3===1&&(f=f.substring(0,f.length-2)+"=="),f}function Zn(s,p){var f="";if(s&&(f=ct.call(s)),s&&(f==="[object ArrayBuffer]"||s.buffer&&ct.call(s.buffer)==="[object ArrayBuffer]")){var h,$=Ye;s instanceof ArrayBuffer?(h=s,$+=le):(h=s.buffer,f==="[object Int8Array]"?$+=Ce:f==="[object Uint8Array]"?$+=be:f==="[object Uint8ClampedArray]"?$+=we:f==="[object Int16Array]"?$+=Et:f==="[object Uint16Array]"?$+=tt:f==="[object Int32Array]"?$+=et:f==="[object Uint32Array]"?$+=ft:f==="[object Float32Array]"?$+=Ie:f==="[object Float64Array]"?$+=ye:p(new Error("Failed to get type for BinaryArray"))),p($+Wt(h))}else if(f==="[object Blob]"){var g=new FileReader;g.onload=function(){var E=jt+s.type+"~"+Wt(this.result);p(Ye+pe+E)},g.readAsArrayBuffer(s)}else try{p(JSON.stringify(s))}catch(E){console.error("Couldn't convert value into a JSON string: ",s),p(null,E)}}function er(s){if(s.substring(0,Z)!==Ye)return JSON.parse(s);var p=s.substring(ut),f=s.substring(Z,ut),h;if(f===pe&&Ze.test(p)){var $=p.match(Ze);h=$[1],p=p.substring($[0].length)}var g=pn(p);switch(f){case le:return g;case pe:return v([g],{type:h});case Ce:return new Int8Array(g);case be:return new Uint8Array(g);case we:return new Uint8ClampedArray(g);case Et:return new Int16Array(g);case tt:return new Uint16Array(g);case et:return new Int32Array(g);case ft:return new Uint32Array(g);case Ie:return new Float32Array(g);case ye:return new Float64Array(g);default:throw new Error("Unkown type: "+f)}}var qt={serialize:Zn,deserialize:er,stringToBuffer:pn,bufferToString:Wt};function mn(s,p,f,h){s.executeSql("CREATE TABLE IF NOT EXISTS "+p.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],f,h)}function tr(s){var p=this,f={db:null};if(s)for(var h in s)f[h]=typeof s[h]!="string"?s[h].toString():s[h];var $=new d(function(g,E){try{f.db=openDatabase(f.name,String(f.version),f.description,f.size)}catch(A){return E(A)}f.db.transaction(function(A){mn(A,f,function(){p._dbInfo=f,g()},function(T,L){E(L)})},E)});return f.serializer=qt,$}function je(s,p,f,h,$,g){s.executeSql(f,h,$,function(E,A){A.code===A.SYNTAX_ERR?E.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[p.storeName],function(T,L){L.rows.length?g(T,A):mn(T,p,function(){T.executeSql(f,h,$,g)},g)},g):g(E,A)},g)}function nr(s,p){var f=this;s=y(s);var h=new d(function($,g){f.ready().then(function(){var E=f._dbInfo;E.db.transaction(function(A){je(A,E,"SELECT * FROM "+E.storeName+" WHERE key = ? LIMIT 1",[s],function(T,L){var N=L.rows.length?L.rows.item(0).value:null;N&&(N=E.serializer.deserialize(N)),$(N)},function(T,L){g(L)})})}).catch(g)});return m(h,p),h}function rr(s,p){var f=this,h=new d(function($,g){f.ready().then(function(){var E=f._dbInfo;E.db.transaction(function(A){je(A,E,"SELECT * FROM "+E.storeName,[],function(T,L){for(var N=L.rows,W=N.length,ne=0;ne<W;ne++){var ce=N.item(ne),me=ce.value;if(me&&(me=E.serializer.deserialize(me)),me=s(me,ce.key,ne+1),me!==void 0){$(me);return}}$()},function(T,L){g(L)})})}).catch(g)});return m(h,p),h}function gn(s,p,f,h){var $=this;s=y(s);var g=new d(function(E,A){$.ready().then(function(){p===void 0&&(p=null);var T=p,L=$._dbInfo;L.serializer.serialize(p,function(N,W){W?A(W):L.db.transaction(function(ne){je(ne,L,"INSERT OR REPLACE INTO "+L.storeName+" (key, value) VALUES (?, ?)",[s,N],function(){E(T)},function(ce,me){A(me)})},function(ne){if(ne.code===ne.QUOTA_ERR){if(h>0){E(gn.apply($,[s,T,f,h-1]));return}A(ne)}})})}).catch(A)});return m(g,f),g}function or(s,p,f){return gn.apply(this,[s,p,f,1])}function ir(s,p){var f=this;s=y(s);var h=new d(function($,g){f.ready().then(function(){var E=f._dbInfo;E.db.transaction(function(A){je(A,E,"DELETE FROM "+E.storeName+" WHERE key = ?",[s],function(){$()},function(T,L){g(L)})})}).catch(g)});return m(h,p),h}function sr(s){var p=this,f=new d(function(h,$){p.ready().then(function(){var g=p._dbInfo;g.db.transaction(function(E){je(E,g,"DELETE FROM "+g.storeName,[],function(){h()},function(A,T){$(T)})})}).catch($)});return m(f,s),f}function lr(s){var p=this,f=new d(function(h,$){p.ready().then(function(){var g=p._dbInfo;g.db.transaction(function(E){je(E,g,"SELECT COUNT(key) as c FROM "+g.storeName,[],function(A,T){var L=T.rows.item(0).c;h(L)},function(A,T){$(T)})})}).catch($)});return m(f,s),f}function ar(s,p){var f=this,h=new d(function($,g){f.ready().then(function(){var E=f._dbInfo;E.db.transaction(function(A){je(A,E,"SELECT key FROM "+E.storeName+" WHERE id = ? LIMIT 1",[s+1],function(T,L){var N=L.rows.length?L.rows.item(0).key:null;$(N)},function(T,L){g(L)})})}).catch(g)});return m(h,p),h}function fr(s){var p=this,f=new d(function(h,$){p.ready().then(function(){var g=p._dbInfo;g.db.transaction(function(E){je(E,g,"SELECT key FROM "+g.storeName,[],function(A,T){for(var L=[],N=0;N<T.rows.length;N++)L.push(T.rows.item(N).key);h(L)},function(A,T){$(T)})})}).catch($)});return m(f,s),f}function ur(s){return new d(function(p,f){s.transaction(function(h){h.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function($,g){for(var E=[],A=0;A<g.rows.length;A++)E.push(g.rows.item(A).name);p({db:s,storeNames:E})},function($,g){f(g)})},function(h){f(h)})})}function cr(s,p){p=S.apply(this,arguments);var f=this.config();s=typeof s!="function"&&s||{},s.name||(s.name=s.name||f.name,s.storeName=s.storeName||f.storeName);var h=this,$;return s.name?$=new d(function(g){var E;s.name===f.name?E=h._dbInfo.db:E=openDatabase(s.name,"","",0),s.storeName?g({db:E,storeNames:[s.storeName]}):g(ur(E))}).then(function(g){return new d(function(E,A){g.db.transaction(function(T){function L(ce){return new d(function(me,ve){T.executeSql("DROP TABLE IF EXISTS "+ce,[],function(){me()},function(he,Re){ve(Re)})})}for(var N=[],W=0,ne=g.storeNames.length;W<ne;W++)N.push(L(g.storeNames[W]));d.all(N).then(function(){E()}).catch(function(ce){A(ce)})},function(T){A(T)})})}):$=d.reject("Invalid arguments"),m($,p),$}var dr={_driver:"webSQLStorage",_initStorage:tr,_support:qe(),iterate:rr,getItem:nr,setItem:or,removeItem:ir,clear:sr,length:lr,key:ar,keys:fr,dropInstance:cr};function pr(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function hn(s,p){var f=s.name+"/";return s.storeName!==p.storeName&&(f+=s.storeName+"/"),f}function mr(){var s="_localforage_support_test";try{return localStorage.setItem(s,!0),localStorage.removeItem(s),!1}catch{return!0}}function gr(){return!mr()||localStorage.length>0}function hr(s){var p=this,f={};if(s)for(var h in s)f[h]=s[h];return f.keyPrefix=hn(s,p._defaultConfig),gr()?(p._dbInfo=f,f.serializer=qt,d.resolve()):d.reject()}function vr(s){var p=this,f=p.ready().then(function(){for(var h=p._dbInfo.keyPrefix,$=localStorage.length-1;$>=0;$--){var g=localStorage.key($);g.indexOf(h)===0&&localStorage.removeItem(g)}});return m(f,s),f}function _r(s,p){var f=this;s=y(s);var h=f.ready().then(function(){var $=f._dbInfo,g=localStorage.getItem($.keyPrefix+s);return g&&(g=$.serializer.deserialize(g)),g});return m(h,p),h}function $r(s,p){var f=this,h=f.ready().then(function(){for(var $=f._dbInfo,g=$.keyPrefix,E=g.length,A=localStorage.length,T=1,L=0;L<A;L++){var N=localStorage.key(L);if(N.indexOf(g)===0){var W=localStorage.getItem(N);if(W&&(W=$.serializer.deserialize(W)),W=s(W,N.substring(E),T++),W!==void 0)return W}}});return m(h,p),h}function br(s,p){var f=this,h=f.ready().then(function(){var $=f._dbInfo,g;try{g=localStorage.key(s)}catch{g=null}return g&&(g=g.substring($.keyPrefix.length)),g});return m(h,p),h}function wr(s){var p=this,f=p.ready().then(function(){for(var h=p._dbInfo,$=localStorage.length,g=[],E=0;E<$;E++){var A=localStorage.key(E);A.indexOf(h.keyPrefix)===0&&g.push(A.substring(h.keyPrefix.length))}return g});return m(f,s),f}function yr(s){var p=this,f=p.keys().then(function(h){return h.length});return m(f,s),f}function Sr(s,p){var f=this;s=y(s);var h=f.ready().then(function(){var $=f._dbInfo;localStorage.removeItem($.keyPrefix+s)});return m(h,p),h}function Er(s,p,f){var h=this;s=y(s);var $=h.ready().then(function(){p===void 0&&(p=null);var g=p;return new d(function(E,A){var T=h._dbInfo;T.serializer.serialize(p,function(L,N){if(N)A(N);else try{localStorage.setItem(T.keyPrefix+s,L),E(g)}catch(W){(W.name==="QuotaExceededError"||W.name==="NS_ERROR_DOM_QUOTA_REACHED")&&A(W),A(W)}})})});return m($,f),$}function Ir(s,p){if(p=S.apply(this,arguments),s=typeof s!="function"&&s||{},!s.name){var f=this.config();s.name=s.name||f.name,s.storeName=s.storeName||f.storeName}var h=this,$;return s.name?$=new d(function(g){s.storeName?g(hn(s,h._defaultConfig)):g(s.name+"/")}).then(function(g){for(var E=localStorage.length-1;E>=0;E--){var A=localStorage.key(E);A.indexOf(g)===0&&localStorage.removeItem(A)}}):$=d.reject("Invalid arguments"),m($,p),$}var kr={_driver:"localStorageWrapper",_initStorage:hr,_support:pr(),iterate:$r,getItem:_r,setItem:Er,removeItem:Sr,clear:vr,length:yr,key:br,keys:wr,dropInstance:Ir},Cr=function(p,f){return p===f||typeof p=="number"&&typeof f=="number"&&isNaN(p)&&isNaN(f)},Rr=function(p,f){for(var h=p.length,$=0;$<h;){if(Cr(p[$],f))return!0;$++}return!1},vn=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"},dt={},_n={},nt={INDEXEDDB:St,WEBSQL:dr,LOCALSTORAGE:kr},Ar=[nt.INDEXEDDB._driver,nt.WEBSQL._driver,nt.LOCALSTORAGE._driver],It=["dropInstance"],Yt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(It),Dr={description:"",driver:Ar.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Tr(s,p){s[p]=function(){var f=arguments;return s.ready().then(function(){return s[p].apply(s,f)})}}function Gt(){for(var s=1;s<arguments.length;s++){var p=arguments[s];if(p)for(var f in p)p.hasOwnProperty(f)&&(vn(p[f])?arguments[0][f]=p[f].slice():arguments[0][f]=p[f])}return arguments[0]}var Lr=function(){function s(p){a(this,s);for(var f in nt)if(nt.hasOwnProperty(f)){var h=nt[f],$=h._driver;this[f]=$,dt[$]||this.defineDriver(h)}this._defaultConfig=Gt({},Dr),this._config=Gt({},this._defaultConfig,p),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return s.prototype.config=function(f){if((typeof f=="undefined"?"undefined":i(f))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var h in f){if(h==="storeName"&&(f[h]=f[h].replace(/\W/g,"_")),h==="version"&&typeof f[h]!="number")return new Error("Database version must be a number.");this._config[h]=f[h]}return"driver"in f&&f.driver?this.setDriver(this._config.driver):!0}else return typeof f=="string"?this._config[f]:this._config},s.prototype.defineDriver=function(f,h,$){var g=new d(function(E,A){try{var T=f._driver,L=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!f._driver){A(L);return}for(var N=Yt.concat("_initStorage"),W=0,ne=N.length;W<ne;W++){var ce=N[W],me=!Rr(It,ce);if((me||f[ce])&&typeof f[ce]!="function"){A(L);return}}var ve=function(){for(var pt=function(Pr){return function(){var Or=new Error("Method "+Pr+" is not implemented by the current driver"),$n=d.reject(Or);return m($n,arguments[arguments.length-1]),$n}},Qt=0,zr=It.length;Qt<zr;Qt++){var Kt=It[Qt];f[Kt]||(f[Kt]=pt(Kt))}};ve();var he=function(pt){dt[T]&&console.info("Redefining LocalForage driver: "+T),dt[T]=f,_n[T]=pt,E()};"_support"in f?f._support&&typeof f._support=="function"?f._support().then(he,A):he(!!f._support):he(!0)}catch(Re){A(Re)}});return w(g,h,$),g},s.prototype.driver=function(){return this._driver||null},s.prototype.getDriver=function(f,h,$){var g=dt[f]?d.resolve(dt[f]):d.reject(new Error("Driver not found."));return w(g,h,$),g},s.prototype.getSerializer=function(f){var h=d.resolve(qt);return w(h,f),h},s.prototype.ready=function(f){var h=this,$=h._driverSet.then(function(){return h._ready===null&&(h._ready=h._initDriver()),h._ready});return w($,f,f),$},s.prototype.setDriver=function(f,h,$){var g=this;vn(f)||(f=[f]);var E=this._getSupportedDrivers(f);function A(){g._config.driver=g.driver()}function T(W){return g._extend(W),A(),g._ready=g._initStorage(g._config),g._ready}function L(W){return function(){var ne=0;function ce(){for(;ne<W.length;){var me=W[ne];return ne++,g._dbInfo=null,g._ready=null,g.getDriver(me).then(T).catch(ce)}A();var ve=new Error("No available storage method found.");return g._driverSet=d.reject(ve),g._driverSet}return ce()}}var N=this._driverSet!==null?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=N.then(function(){var W=E[0];return g._dbInfo=null,g._ready=null,g.getDriver(W).then(function(ne){g._driver=ne._driver,A(),g._wrapLibraryMethodsWithReady(),g._initDriver=L(E)})}).catch(function(){A();var W=new Error("No available storage method found.");return g._driverSet=d.reject(W),g._driverSet}),w(this._driverSet,h,$),this._driverSet},s.prototype.supports=function(f){return!!_n[f]},s.prototype._extend=function(f){Gt(this,f)},s.prototype._getSupportedDrivers=function(f){for(var h=[],$=0,g=f.length;$<g;$++){var E=f[$];this.supports(E)&&h.push(E)}return h},s.prototype._wrapLibraryMethodsWithReady=function(){for(var f=0,h=Yt.length;f<h;f++)Tr(this,Yt[f])},s.prototype.createInstance=function(f){return new s(f)},s}(),Nr=new Lr;t.exports=Nr},{"3":3}]},{},[4])(4)})})(jn);var Dt,Ao=new Uint8Array(16);function Do(){if(!Dt&&(Dt=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Dt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dt(Ao)}var To=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Lo(r){return typeof r=="string"&&To.test(r)}var Se=[];for(var Jt=0;Jt<256;++Jt)Se.push((Jt+256).toString(16).substr(1));function No(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Se[r[e+0]]+Se[r[e+1]]+Se[r[e+2]]+Se[r[e+3]]+"-"+Se[r[e+4]]+Se[r[e+5]]+"-"+Se[r[e+6]]+Se[r[e+7]]+"-"+Se[r[e+8]]+Se[r[e+9]]+"-"+Se[r[e+10]]+Se[r[e+11]]+Se[r[e+12]]+Se[r[e+13]]+Se[r[e+14]]+Se[r[e+15]]).toLowerCase();if(!Lo(n))throw TypeError("Stringified UUID is invalid");return n}function zo(r,e,n){r=r||{};var t=r.random||(r.rng||Do)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=t[o];return e}return No(t)}const rt=[];function Po(r,e){return{subscribe:Ut(r,e).subscribe}}function Ut(r,e=q){let n;const t=new Set;function o(u){if(ie(r,u)&&(r=u,n)){const c=!rt.length;for(const l of t)l[1](),rt.push(l,r);if(c){for(let l=0;l<rt.length;l+=2)rt[l][0](rt[l+1]);rt.length=0}}}function i(u){o(u(r))}function a(u,c=q){const l=[u,c];return t.add(l),t.size===1&&(n=e(o)||q),u(r),()=>{t.delete(l),t.size===0&&(n(),n=null)}}return{set:o,update:i,subscribe:a}}function Oo(r){return r.filter(Boolean)}function Bo(){const r=document.createElement("canvas"),e=r.getContext("2d");if(e===null)throw new Error("Unable to retrieve context from canvas");return{canvas:r,context:e}}function Mo(r,e,n){const{canvas:t,context:o}=Bo();o.fillStyle="red",o.fillRect(0,0,e,n);const i=r.width,a=r.height,u=a/i,c=e!=null?e:i,l=Math.floor(c*u);return t.width=c,t.height=l,o.drawImage(r,0,0,i,a,0,0,c,l),new Promise(v=>{t.toBlob(d=>v(d))})}const Ot=jn.exports.createInstance({name:"images"});async function Fo(r){var o;const e=URL.createObjectURL(r),n=await Ro(e),t=await Mo(n,500,500);return{id:zo(),thumbnail:t,name:(o=r.name)!=null?o:"Untitled",file:r,date:new Date}}const Xe=Ut([]);Ot.keys().then(r=>Promise.all(r.map(e=>Ot.getItem(e)))).then(r=>Xe.update(e=>e.concat(Oo(r))));function Uo(r){return/\.(jpg|jpeg|png|gif)$/.test(r.name)}async function xo(r){await Ot.setItem(r.id,r)}async function Wn(r){const e=await Promise.all(r.map(Fo));Xe.update(n=>n.concat(e)),await Promise.all(e.map(n=>{xo(n)}))}function Ho(r){Xe.update(e=>e.filter(n=>n!==r))}async function Vo(){Xe.set([]),await Ot.clear()}const jo=/(\d+?)h/,Wo=/(\d+?)m/,qo=/(\d+?)s/,Yo=/(\d+?)$/;function Go(r){const e=Number.parseFloat(r);return Number.isNaN(e)?null:e}function Tt(r,e){var t;const n=e.exec(r);return n&&(t=Go(n[1]))!=null?t:0}function En(r){const e=r.trim(),n=Tt(e,jo),t=Tt(e,Wo),o=Tt(e,qo),i=Tt(e,Yo);return n*60*60+t*60+o+i}const qn=Ut("home");function Yn(r){qn.set(r)}function Qo(r,e){window.localStorage.setItem(r,JSON.stringify(e))}function Ko(r){try{const e=window.localStorage.getItem(r);return e!==null?JSON.parse(e):null}catch{return null}}const Gn="settings:v1",Xo={duration:30,color:!0,flippedHorizontal:!1,flippedVertical:!1,randomized:!0};var Un;const Me=Ut((Un=Ko(Gn))!=null?Un:Xo);Me.subscribe(r=>{Qo(Gn,r)});function Qn(r){const e=URL.createObjectURL(r);return Po(e,()=>()=>{e!==null&&URL.revokeObjectURL(e)})}function In(r){let e,n;return{c(){e=K("span"),n=Ee(r[0]),b(e,"class","label svelte-ei9k1b")},m(t,o){B(t,e,o),F(e,n)},p(t,o){o&1&&We(n,t[0])},d(t){t&&z(e)}}}function Jo(r){let e,n,t,o,i=r[0]&&In(r);return{c(){e=K("div"),i&&i.c(),n=ee(),t=K("img"),Pt(t.src,o=r[5])||b(t,"src",o),b(t,"alt",r[2]),b(t,"class","image svelte-ei9k1b"),b(t,"loading","lazy"),b(e,"class","container svelte-ei9k1b"),ge(e,"is-covering",r[1]==="cover"),ge(e,"is-spread",r[3])},m(a,u){B(a,e,u),i&&i.m(e,null),F(e,n),F(e,t)},p(a,[u]){a[0]?i?i.p(a,u):(i=In(a),i.c(),i.m(e,n)):i&&(i.d(1),i=null),u&32&&!Pt(t.src,o=a[5])&&b(t,"src",o),u&4&&b(t,"alt",a[2]),u&2&&ge(e,"is-covering",a[1]==="cover"),u&8&&ge(e,"is-spread",a[3])},i:q,o:q,d(a){a&&z(e),i&&i.d()}}}function Zo(r,e,n){let t,o,i=q,a=()=>(i(),i=an(t,m=>n(5,o=m)),t);r.$$.on_destroy.push(()=>i());let{name:u=void 0}=e,{fit:c="contain"}=e,{file:l}=e,{alt:v=""}=e,{spread:d=!1}=e;return r.$$set=m=>{"name"in m&&n(0,u=m.name),"fit"in m&&n(1,c=m.fit),"file"in m&&n(6,l=m.file),"alt"in m&&n(2,v=m.alt),"spread"in m&&n(3,d=m.spread)},r.$$.update=()=>{r.$$.dirty&64&&a(n(4,t=Qn(l)))},[u,c,v,d,t,o,l]}class ei extends fe{constructor(e){super(),ae(this,e,Zo,Jo,ie,{name:0,fit:1,file:6,alt:2,spread:3})}}function kn(r,e,n){const t=r.slice();return t[2]=e[n],t}function Cn(r,e){var m;let n,t,o,i,a,u,c,l,v;o=new un({});function d(){return e[1](e[2])}return a=new ei({props:{name:e[2].name,file:(m=e[2].thumbnail)!=null?m:e[2].file,spread:!0,fit:"cover"}}),{key:r,first:null,c(){n=K("li"),t=K("button"),M(o.$$.fragment),i=ee(),M(a.$$.fragment),u=ee(),b(t,"class","remove-button svelte-b90jmi"),b(t,"type","button"),b(n,"class","svelte-b90jmi"),ge(n,"is-active",e[0].includes(e[2])),this.first=n},m(w,y){B(w,n,y),F(n,t),P(o,t,null),F(n,i),P(a,n,null),F(n,u),c=!0,l||(v=Pe(t,"click",d),l=!0)},p(w,y){var R;e=w;const S={};y&1&&(S.name=e[2].name),y&1&&(S.file=(R=e[2].thumbnail)!=null?R:e[2].file),a.$set(S),y&1&&ge(n,"is-active",e[0].includes(e[2]))},i(w){c||(I(o.$$.fragment,w),I(a.$$.fragment,w),c=!0)},o(w){k(o.$$.fragment,w),k(a.$$.fragment,w),c=!1},d(w){w&&z(n),O(o),O(a),l=!1,v()}}}function ti(r){let e,n=[],t=new Map,o,i=r[0];const a=u=>u[2];for(let u=0;u<i.length;u+=1){let c=kn(r,i,u),l=a(c);t.set(l,n[u]=Cn(l,c))}return{c(){e=K("ul");for(let u=0;u<n.length;u+=1)n[u].c();b(e,"class","svelte-b90jmi")},m(u,c){B(u,e,c);for(let l=0;l<n.length;l+=1)n[l].m(e,null);o=!0},p(u,[c]){c&1&&(i=u[0],De(),n=Yr(n,c,a,1,u,i,t,e,qr,Cn,null,kn),Te())},i(u){if(!o){for(let c=0;c<i.length;c+=1)I(n[c]);o=!0}},o(u){for(let c=0;c<n.length;c+=1)k(n[c]);o=!1},d(u){u&&z(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function ni(r,e,n){let t;return Ke(r,Xe,i=>n(0,t=i)),[t,i=>Ho(i)]}class ri extends fe{constructor(e){super(),ae(this,e,ni,ti,ie,{})}}function oi(r){let e;return{c(){e=Ee(r[0])},m(n,t){B(n,e,t)},p(n,t){t&1&&We(e,n[0])},d(n){n&&z(e)}}}function ii(r){let e,n,t,o,i,a,u;return n=new _e({props:{displayOnly:!0,variant:"transparent",$$slots:{default:[oi]},$$scope:{ctx:r}}}),{c(){e=K("label"),M(n.$$.fragment),t=ee(),o=K("input"),b(o,"type","file"),o.multiple=!0,b(o,"accept","image/*"),b(o,"class","svelte-1i6rv3f"),b(e,"class","svelte-1i6rv3f")},m(c,l){B(c,e,l),P(n,e,null),F(e,t),F(e,o),r[4](o),i=!0,a||(u=Pe(o,"change",r[2]),a=!0)},p(c,[l]){const v={};l&33&&(v.$$scope={dirty:l,ctx:c}),n.$set(v)},i(c){i||(I(n.$$.fragment,c),i=!0)},o(c){k(n.$$.fragment,c),i=!1},d(c){c&&z(e),O(n),r[4](null),a=!1,u()}}}function si(r,e,n){let{onChange:t}=e,{label:o}=e,i;function a(){var l;const c=Array.from((l=i.files)!=null?l:[]);t(c),n(1,i.value="",i)}function u(c){Oe[c?"unshift":"push"](()=>{i=c,n(1,i)})}return r.$$set=c=>{"onChange"in c&&n(3,t=c.onChange),"label"in c&&n(0,o=c.label)},[o,i,a,t,u]}class li extends fe{constructor(e){super(),ae(this,e,si,ii,ie,{onChange:3,label:0})}}function ai(r){let e;return{c(){e=K("div"),b(e,"class","svelte-1ozak06")},m(n,t){B(n,e,t)},p:q,i:q,o:q,d(n){n&&z(e)}}}class Kn extends fe{constructor(e){super(),ae(this,e,null,ai,ie,{})}}function fi(r){return r.isFile}function ui(r){return r.isDirectory}async function ci(r,e){if(r===null)return[];let n=[],t=[];for(const o of Array.from(r)){const i=o.webkitGetAsEntry();i&&t.push(i)}for(;t.length>0;){let o=t.shift();if(o===void 0)break;fi(o)?e(o)&&n.push(pi(o)):ui(o)&&t.push(...await di(o.createReader()))}return Promise.all(n)}async function di(r){let e=[],n=await Rn(r);for(;n.length>0;)e.push(...n),n=await Rn(r);return e}async function pi(r){return new Promise((e,n)=>{r.file(e,n)})}async function Rn(r){try{return await new Promise((e,n)=>{r.readEntries(e,n)})}catch(e){return console.log(e),[]}}async function mi(r){var n,t;return r.preventDefault(),await ci((t=(n=r.dataTransfer)==null?void 0:n.items)!=null?t:null,Uo)}function An(r,e,n){const t=r.slice();return t[3]=e[n],t}function Dn(r){let e,n;return e=new cn({props:{onClose:r[15],onAccept:Vo,onAcceptLabel:"Clear references",$$slots:{default:[gi]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&64&&(i.onClose=t[15]),o&268435456&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function gi(r){let e;return{c(){e=Ee("Are you sure you want to remove all reference files?")},m(n,t){B(n,e,t)},d(n){n&&z(e)}}}function hi(r){let e;return{c(){e=Ee("Clear")},m(n,t){B(n,e,t)},d(n){n&&z(e)}}}function vi(r){let e;return{c(){e=Ee("Start")},m(n,t){B(n,e,t)},d(n){n&&z(e)}}}function _i(r){let e,n,t,o,i,a,u,c;return e=new li({props:{onChange:Wn,label:"Add files"}}),t=new _e({props:{variant:"transparent",onClick:r[16],$$slots:{default:[hi]},$$scope:{ctx:r}}}),i=new Kn({}),u=new _e({props:{variant:"primary",disabled:!r[7],onClick:r[9],$$slots:{default:[vi]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),n=ee(),M(t.$$.fragment),o=ee(),M(i.$$.fragment),a=ee(),M(u.$$.fragment)},m(l,v){P(e,l,v),B(l,n,v),P(t,l,v),B(l,o,v),P(i,l,v),B(l,a,v),P(u,l,v),c=!0},p(l,v){const d={};v&64&&(d.onClick=l[16]),v&268435456&&(d.$$scope={dirty:v,ctx:l}),t.$set(d);const m={};v&128&&(m.disabled=!l[7]),v&268435456&&(m.$$scope={dirty:v,ctx:l}),u.$set(m)},i(l){c||(I(e.$$.fragment,l),I(t.$$.fragment,l),I(i.$$.fragment,l),I(u.$$.fragment,l),c=!0)},o(l){k(e.$$.fragment,l),k(t.$$.fragment,l),k(i.$$.fragment,l),k(u.$$.fragment,l),c=!1},d(l){O(e,l),l&&z(n),O(t,l),l&&z(o),O(i,l),l&&z(a),O(u,l)}}}function $i(r){let e,n;return e=new Ft({props:{$$slots:{default:[_i]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&268435648&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Tn(r){let e,n;return e=new cn({props:{onClose:r[9],onAccept:r[24],onAcceptLabel:"Start canvas",$$slots:{default:[ki]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&268435463&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ln(r){let e,n,t;function o(a){r[18](a)}let i={label:r[3],value:r[3]};return r[0]!==void 0&&(i.group=r[0]),e=new $t({props:i}),Oe.push(()=>it(e,"group",o)),{c(){M(e.$$.fragment)},m(a,u){P(e,a,u),t=!0},p(a,u){const c={};!n&&u&1&&(n=!0,c.group=a[0],ot(()=>n=!1)),e.$set(c)},i(a){t||(I(e.$$.fragment,a),t=!0)},o(a){k(e.$$.fragment,a),t=!1},d(a){O(e,a)}}}function bi(r){let e,n,t;function o(a){r[19](a)}let i={disabled:r[0]!==Bt};return r[1]!==void 0&&(i.value=r[1]),e=new _o({props:i}),Oe.push(()=>it(e,"value",o)),{c(){M(e.$$.fragment)},m(a,u){P(e,a,u),t=!0},p(a,u){const c={};u&1&&(c.disabled=a[0]!==Bt),!n&&u&2&&(n=!0,c.value=a[1],ot(()=>n=!1)),e.$set(c)},i(a){t||(I(e.$$.fragment,a),t=!0)},o(a){k(e.$$.fragment,a),t=!1},d(a){O(e,a)}}}function wi(r){let e,n,t,o,i,a,u,c=r[8],l=[];for(let S=0;S<c.length;S+=1)l[S]=Ln(An(r,c,S));const v=S=>k(l[S],1,1,()=>{l[S]=null});function d(S){r[20](S)}let m={label:"Custom",value:Bt,$$slots:{default:[bi]},$$scope:{ctx:r}};r[0]!==void 0&&(m.group=r[0]),n=new $t({props:m}),Oe.push(()=>it(n,"group",d));function w(S){r[21](S)}let y={label:"Disabled",value:Xn};return r[0]!==void 0&&(y.group=r[0]),i=new $t({props:y}),Oe.push(()=>it(i,"group",w)),{c(){for(let S=0;S<l.length;S+=1)l[S].c();e=ee(),M(n.$$.fragment),o=ee(),M(i.$$.fragment)},m(S,R){for(let Y=0;Y<l.length;Y+=1)l[Y].m(S,R);B(S,e,R),P(n,S,R),B(S,o,R),P(i,S,R),u=!0},p(S,R){if(R&257){c=S[8];let J;for(J=0;J<c.length;J+=1){const ue=An(S,c,J);l[J]?(l[J].p(ue,R),I(l[J],1)):(l[J]=Ln(ue),l[J].c(),I(l[J],1),l[J].m(e.parentNode,e))}for(De(),J=c.length;J<l.length;J+=1)v(J);Te()}const Y={};R&268435459&&(Y.$$scope={dirty:R,ctx:S}),!t&&R&1&&(t=!0,Y.group=S[0],ot(()=>t=!1)),n.$set(Y);const U={};!a&&R&1&&(a=!0,U.group=S[0],ot(()=>a=!1)),i.$set(U)},i(S){if(!u){for(let R=0;R<c.length;R+=1)I(l[R]);I(n.$$.fragment,S),I(i.$$.fragment,S),u=!0}},o(S){l=l.filter(Boolean);for(let R=0;R<l.length;R+=1)k(l[R]);k(n.$$.fragment,S),k(i.$$.fragment,S),u=!1},d(S){Ur(l,S),S&&z(e),O(n,S),S&&z(o),O(i,S)}}}function yi(r){let e,n;return e=new dn({props:{$$slots:{default:[wi]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&268435459&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Si(r){let e,n,t,o,i,a;function u(d){r[22](d)}let c={label:"Yes",value:"true"};r[2]!==void 0&&(c.group=r[2]),e=new $t({props:c}),Oe.push(()=>it(e,"group",u));function l(d){r[23](d)}let v={label:"No",value:"false"};return r[2]!==void 0&&(v.group=r[2]),o=new $t({props:v}),Oe.push(()=>it(o,"group",l)),{c(){M(e.$$.fragment),t=ee(),M(o.$$.fragment)},m(d,m){P(e,d,m),B(d,t,m),P(o,d,m),a=!0},p(d,m){const w={};!n&&m&4&&(n=!0,w.group=d[2],ot(()=>n=!1)),e.$set(w);const y={};!i&&m&4&&(i=!0,y.group=d[2],ot(()=>i=!1)),o.$set(y)},i(d){a||(I(e.$$.fragment,d),I(o.$$.fragment,d),a=!0)},o(d){k(e.$$.fragment,d),k(o.$$.fragment,d),a=!1},d(d){O(e,d),d&&z(t),O(o,d)}}}function Ei(r){let e,n;return e=new dn({props:{$$slots:{default:[Si]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&268435460&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ii(r){let e,n,t,o;return e=new Sn({props:{label:"Duration",$$slots:{default:[yi]},$$scope:{ctx:r}}}),t=new Sn({props:{label:"Randomized",$$slots:{default:[Ei]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),n=ee(),M(t.$$.fragment)},m(i,a){P(e,i,a),B(i,n,a),P(t,i,a),o=!0},p(i,a){const u={};a&268435459&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const c={};a&268435460&&(c.$$scope={dirty:a,ctx:i}),t.$set(c)},i(i){o||(I(e.$$.fragment,i),I(t.$$.fragment,i),o=!0)},o(i){k(e.$$.fragment,i),k(t.$$.fragment,i),o=!1},d(i){O(e,i),i&&z(n),O(t,i)}}}function ki(r){let e,n;return e=new dn({props:{$$slots:{default:[Ii]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&268435463&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ci(r){let e,n,t,o,i,a,u,c,l,v,d,m,w=r[6]&&Dn(r);o=new fn({props:{$$slots:{default:[$i]},$$scope:{ctx:r}}}),u=new ri({});let y=r[5]&&Tn(r);return{c(){e=K("div"),w&&w.c(),n=ee(),t=K("div"),M(o.$$.fragment),i=ee(),a=K("div"),M(u.$$.fragment),c=ee(),y&&y.c(),l=Mt(),b(t,"class","header-bar svelte-1xvyvwe"),b(a,"class","directory-container svelte-1xvyvwe"),b(e,"class","container svelte-1xvyvwe")},m(S,R){B(S,e,R),w&&w.m(e,null),F(e,n),F(e,t),P(o,t,null),F(e,i),F(e,a),P(u,a,null),r[17](e),B(S,c,R),y&&y.m(S,R),B(S,l,R),v=!0,d||(m=[Pe(e,"drop",r[10]),Pe(e,"dragover",Ri),Pe(e,"dragenter",r[11]),Pe(e,"dragleave",r[12])],d=!0)},p(S,[R]){S[6]?w?(w.p(S,R),R&64&&I(w,1)):(w=Dn(S),w.c(),I(w,1),w.m(e,n)):w&&(De(),k(w,1,1,()=>{w=null}),Te());const Y={};R&268435648&&(Y.$$scope={dirty:R,ctx:S}),o.$set(Y),S[5]?y?(y.p(S,R),R&32&&I(y,1)):(y=Tn(S),y.c(),I(y,1),y.m(l.parentNode,l)):y&&(De(),k(y,1,1,()=>{y=null}),Te())},i(S){v||(I(w),I(o.$$.fragment,S),I(u.$$.fragment,S),I(y),v=!0)},o(S){k(w),k(o.$$.fragment,S),k(u.$$.fragment,S),k(y),v=!1},d(S){S&&z(e),w&&w.d(),O(o),O(u),r[17](null),S&&z(c),y&&y.d(S),S&&z(l),d=!1,st(m)}}}const Bt="custom",Xn="infinite";function Ri(r){r.preventDefault()}function Ai(r,e,n){let t,o,i,a;Ke(r,Me,G=>n(13,i=G)),Ke(r,Xe,G=>n(14,a=G));const u=["30s","1m","1m30s","2m","5m","1h"];let c,l=u[0],v="1m30s",d="true",m=!1,w=!1;function y(){n(5,m=!m)}async function S(G){G.preventDefault();const $e=c.getBoundingClientRect();G.clientX-$e.left,G.clientY-$e.top;const ke=await mi(G);Wn(ke)}function R(){}function Y(){}const U=()=>n(6,w=!1),J=()=>n(6,w=!0);function ue(G){Oe[G?"unshift":"push"](()=>{c=G,n(4,c)})}function C(G){l=G,n(0,l)}function j(G){v=G,n(1,v)}function V(G){l=G,n(0,l)}function X(G){l=G,n(0,l)}function D(G){d=G,n(2,d)}function H(G){d=G,n(2,d)}const se=()=>Yn("practice");return r.$$.update=()=>{r.$$.dirty&3&&n(3,t=l===Bt?En(v):l===Xn?1/0:En(l)),r.$$.dirty&8&&ht(Me,i.duration=t,i),r.$$.dirty&4&&ht(Me,i.randomized=d==="true",i),r.$$.dirty&24576&&n(7,o=i.duration!==0&&a.length>0)},[l,v,d,t,c,m,w,o,u,y,S,R,Y,i,a,U,J,ue,C,j,V,X,D,H,se]}class Di extends fe{constructor(e){super(),ae(this,e,Ai,Ci,ie,{})}}function Ti(r){var n;const e=Math.floor(Math.random()*r.length);return(n=r[e])!=null?n:null}function Jn(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}function Li(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0z"),b(n,"fill","none"),b(t,"d","M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class Ni extends fe{constructor(e){super(),ae(this,e,null,Li,ie,{})}}function zi(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0z"),b(n,"fill","none"),b(t,"d","M6 19h4V5H6v14zm8-14v14h4V5h-4z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class Pi extends fe{constructor(e){super(),ae(this,e,null,zi,ie,{})}}function Oi(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0V0z"),b(n,"fill","none"),b(t,"d","M8 5v14l11-7L8 5z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class Bi extends fe{constructor(e){super(),ae(this,e,null,Oi,ie,{})}}function Mi(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0z"),b(n,"fill","none"),b(t,"d","M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class Fi extends fe{constructor(e){super(),ae(this,e,null,Mi,ie,{})}}function Ui(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0z"),b(n,"fill","none"),b(t,"d","M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class xi extends fe{constructor(e){super(),ae(this,e,null,Ui,ie,{})}}function Hi(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0z"),b(n,"fill","none"),b(t,"d","M6 6h2v12H6zm3.5 6l8.5 6V6z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class Vi extends fe{constructor(e){super(),ae(this,e,null,Hi,ie,{})}}function ji(r){let e,n,t;return{c(){e=K("div"),n=K("span"),b(n,"class","bar svelte-1opq2k2"),b(n,"style",t=`transform: scale(${r[0]}, 1);`),b(e,"class","container svelte-1opq2k2")},m(o,i){B(o,e,i),F(e,n)},p(o,[i]){i&1&&t!==(t=`transform: scale(${o[0]}, 1);`)&&b(n,"style",t)},i:q,o:q,d(o){o&&z(e)}}}function Wi(r,e,n){let t,{value:o}=e,{limit:i}=e;return r.$$set=a=>{"value"in a&&n(1,o=a.value),"limit"in a&&n(2,i=a.limit)},r.$$.update=()=>{r.$$.dirty&6&&n(0,t=Math.min(o/i,1))},[t,o,i]}class qi extends fe{constructor(e){super(),ae(this,e,Wi,ji,ie,{value:1,limit:2})}}function Yi(r){let e,n,t,o,i;return{c(){e=te("svg"),n=te("g"),t=te("rect"),o=te("g"),i=te("path"),b(t,"fill","none"),b(t,"height","24"),b(t,"width","24"),b(i,"d","M12,2C6.49,2,2,6.49,2,12s4.49,10,10,10c1.38,0,2.5-1.12,2.5-2.5c0-0.61-0.23-1.2-0.64-1.67c-0.08-0.1-0.13-0.21-0.13-0.33 c0-0.28,0.22-0.5,0.5-0.5H16c3.31,0,6-2.69,6-6C22,6.04,17.51,2,12,2z M17.5,13c-0.83,0-1.5-0.67-1.5-1.5c0-0.83,0.67-1.5,1.5-1.5 s1.5,0.67,1.5,1.5C19,12.33,18.33,13,17.5,13z M14.5,9C13.67,9,13,8.33,13,7.5C13,6.67,13.67,6,14.5,6S16,6.67,16,7.5 C16,8.33,15.33,9,14.5,9z M5,11.5C5,10.67,5.67,10,6.5,10S8,10.67,8,11.5C8,12.33,7.33,13,6.5,13S5,12.33,5,11.5z M11,7.5 C11,8.33,10.33,9,9.5,9S8,8.33,8,7.5C8,6.67,8.67,6,9.5,6S11,6.67,11,7.5z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"enable-background","new 0 0 24 24"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(a,u){B(a,e,u),F(e,n),F(n,t),F(e,o),F(o,i)},p:q,i:q,o:q,d(a){a&&z(e)}}}class Gi extends fe{constructor(e){super(),ae(this,e,null,Yi,ie,{})}}function Qi(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0V0z"),b(n,"fill","none"),b(t,"d","M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class Ki extends fe{constructor(e){super(),ae(this,e,null,Qi,ie,{})}}function Xi(r){let e,n,t;return{c(){e=te("svg"),n=te("path"),t=te("path"),b(n,"d","M0 0h24v24H0V0z"),b(n,"fill","none"),b(t,"d","M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"),b(e,"xmlns","http://www.w3.org/2000/svg"),b(e,"height","24px"),b(e,"viewBox","0 0 24 24"),b(e,"width","24px"),b(e,"fill","#000000")},m(o,i){B(o,e,i),F(e,n),F(e,t)},p:q,i:q,o:q,d(o){o&&z(e)}}}class Ji extends fe{constructor(e){super(),ae(this,e,null,Xi,ie,{})}}function Zi(r){let e,n,t,o,i;const a=r[2].default,u=Fe(a,r,r[1],null);return{c(){e=K("div"),u&&u.c(),n=ee(),t=K("span"),o=Ee(r[0]),b(t,"class","svelte-bdirxu"),b(e,"class","svelte-bdirxu")},m(c,l){B(c,e,l),u&&u.m(e,null),F(e,n),F(e,t),F(t,o),i=!0},p(c,[l]){u&&u.p&&(!i||l&2)&&xe(u,a,c,c[1],i?Ue(a,c[1],l,null):He(c[1]),null),(!i||l&1)&&We(o,c[0])},i(c){i||(I(u,c),i=!0)},o(c){k(u,c),i=!1},d(c){c&&z(e),u&&u.d(c)}}}function es(r,e,n){let{$$slots:t={},$$scope:o}=e,{label:i}=e;return r.$$set=a=>{"label"in a&&n(0,i=a.label),"$$scope"in a&&n(1,o=a.$$scope)},[i,o,t]}class ze extends fe{constructor(e){super(),ae(this,e,es,Zi,ie,{label:0})}}function ts(r){let e,n;return e=new Gi({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ns(r){let e,n;return e=new _e({props:{title:"Enable/Disable color",variant:r[0].color?"primary":"default",icon:!0,onClick:r[1],$$slots:{default:[ts]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&1&&(i.variant=t[0].color?"primary":"default"),o&1&&(i.onClick=t[1]),o&16&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function rs(r){let e,n;return e=new Ki({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function os(r){let e,n;return e=new _e({props:{title:"Flip image horizontally",variant:r[0].flippedHorizontal?"primary":"default",icon:!0,onClick:r[2],$$slots:{default:[rs]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&1&&(i.variant=t[0].flippedHorizontal?"primary":"default"),o&1&&(i.onClick=t[2]),o&16&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function is(r){let e,n;return e=new Ji({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ss(r){let e,n;return e=new _e({props:{title:"Flip image vertically",variant:r[0].flippedVertical?"primary":"default",icon:!0,onClick:r[3],$$slots:{default:[is]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&1&&(i.variant=t[0].flippedVertical?"primary":"default"),o&1&&(i.onClick=t[3]),o&16&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ls(r){let e,n,t,o,i,a;return e=new ze({props:{label:"Enable/Disable color",$$slots:{default:[ns]},$$scope:{ctx:r}}}),t=new ze({props:{label:"Flip image horizontally",$$slots:{default:[os]},$$scope:{ctx:r}}}),i=new ze({props:{label:"Flip image vertically",$$slots:{default:[ss]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment),n=ee(),M(t.$$.fragment),o=ee(),M(i.$$.fragment)},m(u,c){P(e,u,c),B(u,n,c),P(t,u,c),B(u,o,c),P(i,u,c),a=!0},p(u,c){const l={};c&17&&(l.$$scope={dirty:c,ctx:u}),e.$set(l);const v={};c&17&&(v.$$scope={dirty:c,ctx:u}),t.$set(v);const d={};c&17&&(d.$$scope={dirty:c,ctx:u}),i.$set(d)},i(u){a||(I(e.$$.fragment,u),I(t.$$.fragment,u),I(i.$$.fragment,u),a=!0)},o(u){k(e.$$.fragment,u),k(t.$$.fragment,u),k(i.$$.fragment,u),a=!1},d(u){O(e,u),u&&z(n),O(t,u),u&&z(o),O(i,u)}}}function as(r){let e,n;return e=new Ft({props:{$$slots:{default:[ls]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,[o]){const i={};o&17&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function fs(r,e,n){let t;return Ke(r,Me,u=>n(0,t=u)),[t,()=>{ht(Me,t.color=!t.color,t)},()=>{ht(Me,t.flippedHorizontal=!t.flippedHorizontal,t)},()=>{ht(Me,t.flippedVertical=!t.flippedVertical,t)}]}class us extends fe{constructor(e){super(),ae(this,e,fs,as,ie,{})}}function Zt(r){return r<10?`0${r}`:r.toString()}function Nn(r){const e=Zt(Math.floor(r/1e3)%60),n=Zt(Math.floor(r/(1e3*60))%60);return`${Zt(Math.floor(r/(1e3*60*60)))}:${n}:${e}`}function cs(r){r!==!1?window.onbeforeunload=()=>"":window.onbeforeunload=()=>{}}function ds(r){let e,n;return e=new ze({props:{label:"Play (space)",$$slots:{default:[gs]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ps(r){let e,n;return e=new ze({props:{label:"Pause (space)",$$slots:{default:[vs]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ms(r){let e,n;return e=new Bi({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function gs(r){let e,n;return e=new _e({props:{icon:!0,onClick:r[8],title:"Play (space)",$$slots:{default:[ms]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function hs(r){let e,n;return e=new Pi({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function vs(r){let e,n;return e=new _e({props:{icon:!0,onClick:r[8],title:"Pause (space)",$$slots:{default:[hs]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function _s(r){let e,n;return e=new Vi({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function $s(r){let e,n;return e=new _e({props:{icon:!0,onClick:r[9],title:"Go back (j)",$$slots:{default:[_s]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function bs(r){let e,n;return e=new xi({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ws(r){let e,n;return e=new _e({props:{icon:!0,onClick:r[10],title:"Next (l)",$$slots:{default:[bs]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ys(r){let e,n;return e=new Ni({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ss(r){let e,n;return e=new _e({props:{icon:!0,onClick:Jn,title:"Toggle fullscreen mode (f)",$$slots:{default:[ys]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Es(r){let e,n;return e=new Fi({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Is(r){let e,n;return e=new _e({props:{icon:!0,onClick:r[7],title:"Restart",$$slots:{default:[Es]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ks(r){let e,n;return e=new un({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Cs(r){let e,n;return e=new _e({props:{icon:!0,onClick:r[6],title:"Close",$$slots:{default:[ks]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097152&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Rs(r){let e,n=Nn(r[2])+"",t,o,i,a,u,c,l,v,d,m,w,y,S,R,Y,U,J,ue,C;i=new us({}),u=new Kn({});const j=[ps,ds],V=[];function X(D,H){return D[0]==="playing"?0:1}return l=X(r),v=V[l]=j[l](r),m=new ze({props:{label:"Go back (j)",$$slots:{default:[$s]},$$scope:{ctx:r}}}),y=new ze({props:{label:"Next (l)",$$slots:{default:[ws]},$$scope:{ctx:r}}}),R=new ze({props:{label:"Toggle fullscreen mode (f)",$$slots:{default:[Ss]},$$scope:{ctx:r}}}),U=new ze({props:{label:"Restart",$$slots:{default:[Is]},$$scope:{ctx:r}}}),ue=new ze({props:{label:"Close",$$slots:{default:[Cs]},$$scope:{ctx:r}}}),{c(){e=K("span"),t=Ee(n),o=ee(),M(i.$$.fragment),a=ee(),M(u.$$.fragment),c=ee(),v.c(),d=ee(),M(m.$$.fragment),w=ee(),M(y.$$.fragment),S=ee(),M(R.$$.fragment),Y=ee(),M(U.$$.fragment),J=ee(),M(ue.$$.fragment),b(e,"class","duration svelte-1rixpnh")},m(D,H){B(D,e,H),F(e,t),B(D,o,H),P(i,D,H),B(D,a,H),P(u,D,H),B(D,c,H),V[l].m(D,H),B(D,d,H),P(m,D,H),B(D,w,H),P(y,D,H),B(D,S,H),P(R,D,H),B(D,Y,H),P(U,D,H),B(D,J,H),P(ue,D,H),C=!0},p(D,H){(!C||H&4)&&n!==(n=Nn(D[2])+"")&&We(t,n);let se=l;l=X(D),l===se?V[l].p(D,H):(De(),k(V[se],1,1,()=>{V[se]=null}),Te(),v=V[l],v?v.p(D,H):(v=V[l]=j[l](D),v.c()),I(v,1),v.m(d.parentNode,d));const G={};H&2097152&&(G.$$scope={dirty:H,ctx:D}),m.$set(G);const $e={};H&2097152&&($e.$$scope={dirty:H,ctx:D}),y.$set($e);const ke={};H&2097152&&(ke.$$scope={dirty:H,ctx:D}),R.$set(ke);const Le={};H&2097152&&(Le.$$scope={dirty:H,ctx:D}),U.$set(Le);const Ne={};H&2097152&&(Ne.$$scope={dirty:H,ctx:D}),ue.$set(Ne)},i(D){C||(I(i.$$.fragment,D),I(u.$$.fragment,D),I(v),I(m.$$.fragment,D),I(y.$$.fragment,D),I(R.$$.fragment,D),I(U.$$.fragment,D),I(ue.$$.fragment,D),C=!0)},o(D){k(i.$$.fragment,D),k(u.$$.fragment,D),k(v),k(m.$$.fragment,D),k(y.$$.fragment,D),k(R.$$.fragment,D),k(U.$$.fragment,D),k(ue.$$.fragment,D),C=!1},d(D){D&&z(e),D&&z(o),O(i,D),D&&z(a),O(u,D),D&&z(c),V[l].d(D),D&&z(d),O(m,D),D&&z(w),O(y,D),D&&z(S),O(R,D),D&&z(Y),O(U,D),D&&z(J),O(ue,D)}}}function As(r){let e,n;return e=new Ft({props:{$$slots:{default:[Rs]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&2097157&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Ds(r){let e,n,t,o,i,a,u,c,l,v;return i=new _e({props:{onClick:r[9],$$slots:{default:[Ls]},$$scope:{ctx:r}}}),u=new _e({props:{onClick:r[7],$$slots:{default:[Ns]},$$scope:{ctx:r}}}),l=new _e({props:{onClick:r[6],$$slots:{default:[zs]},$$scope:{ctx:r}}}),{c(){e=K("div"),n=K("h3"),n.textContent="Reached the end",t=ee(),o=K("div"),M(i.$$.fragment),a=ee(),M(u.$$.fragment),c=ee(),M(l.$$.fragment),b(n,"class","svelte-1rixpnh"),b(e,"class","end-container svelte-1rixpnh")},m(d,m){B(d,e,m),F(e,n),F(e,t),F(e,o),P(i,o,null),F(o,a),P(u,o,null),F(o,c),P(l,o,null),v=!0},p(d,m){const w={};m&2097152&&(w.$$scope={dirty:m,ctx:d}),i.$set(w);const y={};m&2097152&&(y.$$scope={dirty:m,ctx:d}),u.$set(y);const S={};m&2097152&&(S.$$scope={dirty:m,ctx:d}),l.$set(S)},i(d){v||(I(i.$$.fragment,d),I(u.$$.fragment,d),I(l.$$.fragment,d),v=!0)},o(d){k(i.$$.fragment,d),k(u.$$.fragment,d),k(l.$$.fragment,d),v=!1},d(d){d&&z(e),O(i),O(u),O(l)}}}function Ts(r){let e,n=r[5]!==null&&zn(r);return{c(){n&&n.c(),e=Mt()},m(t,o){n&&n.m(t,o),B(t,e,o)},p(t,o){t[5]!==null?n?n.p(t,o):(n=zn(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:q,o:q,d(t){n&&n.d(t),t&&z(e)}}}function Ls(r){let e;return{c(){e=Ee("Go back")},m(n,t){B(n,e,t)},d(n){n&&z(e)}}}function Ns(r){let e;return{c(){e=Ee("Restart")},m(n,t){B(n,e,t)},d(n){n&&z(e)}}}function zs(r){let e;return{c(){e=Ee("Close")},m(n,t){B(n,e,t)},d(n){n&&z(e)}}}function zn(r){let e,n,t;return{c(){e=K("img"),b(e,"class","image svelte-1rixpnh"),b(e,"alt",n=r[1].name),Pt(e.src,t=r[5])||b(e,"src",t),ge(e,"is-grayscale",!r[4].color),ge(e,"is-horizontally-flipped",r[4].flippedHorizontal),ge(e,"is-vertically-flipped",r[4].flippedVertical)},m(o,i){B(o,e,i)},p(o,i){i&2&&n!==(n=o[1].name)&&b(e,"alt",n),i&32&&!Pt(e.src,t=o[5])&&b(e,"src",t),i&16&&ge(e,"is-grayscale",!o[4].color),i&16&&ge(e,"is-horizontally-flipped",o[4].flippedHorizontal),i&16&&ge(e,"is-vertically-flipped",o[4].flippedVertical)},d(o){o&&z(e)}}}function Pn(r){let e,n,t;return n=new qi({props:{limit:r[4].duration*1e3,value:r[2]}}),{c(){e=K("div"),M(n.$$.fragment),b(e,"class","progress svelte-1rixpnh")},m(o,i){B(o,e,i),P(n,e,null),t=!0},p(o,i){const a={};i&16&&(a.limit=o[4].duration*1e3),i&4&&(a.value=o[2]),n.$set(a)},i(o){t||(I(n.$$.fragment,o),t=!0)},o(o){k(n.$$.fragment,o),t=!1},d(o){o&&z(e),O(n)}}}function Ps(r){let e,n,t,o,i,a,u,c,l,v;t=new fn({props:{$$slots:{default:[As]},$$scope:{ctx:r}}});const d=[Ts,Ds],m=[];function w(S,R){return S[1]!==null?0:1}u=w(r),c=m[u]=d[u](r);let y=r[4].duration!==1/0&&Pn(r);return{c(){e=K("div"),n=K("div"),M(t.$$.fragment),o=ee(),i=K("div"),a=K("div"),c.c(),l=ee(),y&&y.c(),b(n,"class","header svelte-1rixpnh"),b(a,"class","main__inner svelte-1rixpnh"),b(i,"class","main svelte-1rixpnh"),b(e,"class","container svelte-1rixpnh"),ge(e,"is-paused",r[0]==="paused"),ge(e,"is-playing",r[0]==="playing")},m(S,R){B(S,e,R),F(e,n),P(t,n,null),F(e,o),F(e,i),F(i,a),m[u].m(a,null),F(e,l),y&&y.m(e,null),v=!0},p(S,[R]){const Y={};R&2097157&&(Y.$$scope={dirty:R,ctx:S}),t.$set(Y);let U=u;u=w(S),u===U?m[u].p(S,R):(De(),k(m[U],1,1,()=>{m[U]=null}),Te(),c=m[u],c?c.p(S,R):(c=m[u]=d[u](S),c.c()),I(c,1),c.m(a,null)),S[4].duration!==1/0?y?(y.p(S,R),R&16&&I(y,1)):(y=Pn(S),y.c(),I(y,1),y.m(e,null)):y&&(De(),k(y,1,1,()=>{y=null}),Te()),R&1&&ge(e,"is-paused",S[0]==="paused"),R&1&&ge(e,"is-playing",S[0]==="playing")},i(S){v||(I(t.$$.fragment,S),I(c),I(y),v=!0)},o(S){k(t.$$.fragment,S),k(c),k(y),v=!1},d(S){S&&z(e),O(t),m[u].d(),y&&y.d()}}}function Os(r,e,n){let t,o,i,a,u=q,c=()=>(u(),u=an(t,H=>n(5,a=H)),t);Ke(r,Me,H=>n(4,o=H)),Ke(r,Xe,H=>n(15,i=H)),r.$$.on_destroy.push(()=>u()),cs(!0);let l="playing",v=0,d=[...i],m=[],w=C(),y=null,S=!0;const R=document.title;nn(()=>{document.title=R});function Y(){Yn("home")}function U(){y!==null&&clearInterval(y),y=null}function J(){U(),n(2,v=0),n(0,l="playing"),d=[...i],m=[],n(1,w=C()),y=null}function ue(){n(0,l=l==="playing"?"paused":"playing")}function C(){var se;const H=o.randomized?Ti(d):(se=d[0])!=null?se:null;if(H){const G=d.indexOf(H);G!==-1&&(d.splice(G,1),d=d,m=m.concat(H))}return H}function j(){var G;const H=w?m.indexOf(w):m.length,se=(G=m[H-1])!=null?G:null;se!==null?n(1,w=se):n(1,w)}function V(){var G;const H=w?m.indexOf(w):-1,se=(G=m[H+1])!=null?G:null;se!==null?n(1,w=se):n(1,w=C())}nn(()=>{U()});function X(H,se,G){H==="playing"&&se===!1&&G?(y!==null&&clearInterval(y),y=window.setInterval(()=>{n(2,v+=100),v>o.duration*1e3&&n(1,w=C())},100)):U()}async function D(H){n(2,v=0),n(11,S=!0),n(11,S=!1)}return Ge("space",ue),Ge("f",Jn),Ge("j",j),Ge("left",j),Ge("l",V),Ge("right",V),r.$$.update=()=>{r.$$.dirty&1&&(document.title=`${l.toUpperCase()} | ${R}`),r.$$.dirty&2&&D(),r.$$.dirty&2051&&X(l,S,w),r.$$.dirty&2&&c(n(3,t=w&&Qn(w.file)))},[l,w,v,t,o,a,Y,J,ue,j,V,S]}class Bs extends fe{constructor(e){super(),ae(this,e,Os,Ps,ie,{})}}function Ms(r){let e,n;return e=new Bs({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Fs(r){let e,n;return e=new Di({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Us(r){let e,n;return e=new eo({}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function On(r){let e,n;return e=new cn({props:{onClose:r[3],$$slots:{default:[xs]},$$scope:{ctx:r}}}),{c(){M(e.$$.fragment)},m(t,o){P(e,t,o),n=!0},p(t,o){const i={};o&16&&(i.$$scope={dirty:o,ctx:t}),e.$set(i)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){k(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function xs(r){let e;return{c(){e=K("div"),e.innerHTML=`<h2>Help</h2> 

      <p>Use this tool for timed drawing exersizes where you take a reference,
        and try to draw it in a limited amount of time.</p> 

      <h3>Shortcuts</h3> 
      <ul><li class="svelte-zaijz0"><code>j</code> navigate to the previous image</li> 
        <li class="svelte-zaijz0"><code>l</code> navigate to the next image</li> 
        <li class="svelte-zaijz0"><code>space</code> pause the timer</li> 
        <li class="svelte-zaijz0"><code>f</code> toggle fullscreen</li></ul>`,b(e,"class","help-content")},m(n,t){B(n,e,t)},p:q,d(n){n&&z(e)}}}function Hs(r){let e,n,t,o,i,a,u,c,l;const v=[Fs,Ms],d=[];function m(y,S){return y[1]==="home"?0:y[1]==="practice"?1:-1}~(n=m(r))&&(t=d[n]=v[n](r)),a=new _e({props:{icon:!0,onClick:r[2],$$slots:{default:[Us]},$$scope:{ctx:r}}});let w=r[0]&&On(r);return{c(){e=K("main"),t&&t.c(),o=ee(),i=K("span"),M(a.$$.fragment),u=ee(),w&&w.c(),c=Mt(),b(i,"class","help-button svelte-zaijz0"),b(e,"class","svelte-zaijz0")},m(y,S){B(y,e,S),~n&&d[n].m(e,null),F(e,o),F(e,i),P(a,i,null),B(y,u,S),w&&w.m(y,S),B(y,c,S),l=!0},p(y,[S]){let R=n;n=m(y),n!==R&&(t&&(De(),k(d[R],1,1,()=>{d[R]=null}),Te()),~n?(t=d[n],t||(t=d[n]=v[n](y),t.c()),I(t,1),t.m(e,o)):t=null);const Y={};S&16&&(Y.$$scope={dirty:S,ctx:y}),a.$set(Y),y[0]?w?(w.p(y,S),S&1&&I(w,1)):(w=On(y),w.c(),I(w,1),w.m(c.parentNode,c)):w&&(De(),k(w,1,1,()=>{w=null}),Te())},i(y){l||(I(t),I(a.$$.fragment,y),I(w),l=!0)},o(y){k(t),k(a.$$.fragment,y),k(w),l=!1},d(y){y&&z(e),~n&&d[n].d(),O(a),y&&z(u),w&&w.d(y),y&&z(c)}}}function Vs(r,e,n){let t;Ke(r,qn,u=>n(1,t=u));let o=!1;function i(){n(0,o=!0)}function a(){n(0,o=!1)}return[o,t,i,a]}class js extends fe{constructor(e){super(),ae(this,e,Vs,Hs,ie,{})}}try{self["workbox:window:6.5.2"]&&_()}catch{}function Bn(r,e){return new Promise(function(n){var t=new MessageChannel;t.port1.onmessage=function(o){n(o.data)},r.postMessage(e,[t.port2])})}function Ws(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}function Mn(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function qs(r,e){var n;if(typeof Symbol=="undefined"||r[Symbol.iterator]==null){if(Array.isArray(r)||(n=function(o,i){if(o){if(typeof o=="string")return Mn(o,i);var a=Object.prototype.toString.call(o).slice(8,-1);return a==="Object"&&o.constructor&&(a=o.constructor.name),a==="Map"||a==="Set"?Array.from(o):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Mn(o,i):void 0}}(r))||e&&r&&typeof r.length=="number"){n&&(r=n);var t=0;return function(){return t>=r.length?{done:!0}:{done:!1,value:r[t++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return(n=r[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.2"]&&_()}catch{}var en=function(){var r=this;this.promise=new Promise(function(e,n){r.resolve=e,r.reject=n})};function tn(r,e){var n=location.href;return new URL(r,n).href===new URL(e,n).href}var mt=function(r,e){this.type=r,Object.assign(this,e)};function Lt(r,e,n){return n?e?e(r):r:(r&&r.then||(r=Promise.resolve(r)),e?r.then(e):r)}function Ys(){}var Gs={type:"SKIP_WAITING"};function Fn(r,e){if(!e)return r&&r.then?r.then(Ys):Promise.resolve()}var Qs=function(r){var e,n;function t(u,c){var l,v;return c===void 0&&(c={}),(l=r.call(this)||this).nn={},l.tn=0,l.rn=new en,l.en=new en,l.on=new en,l.un=0,l.an=new Set,l.cn=function(){var d=l.fn,m=d.installing;l.tn>0||!tn(m.scriptURL,l.sn.toString())||performance.now()>l.un+6e4?(l.vn=m,d.removeEventListener("updatefound",l.cn)):(l.hn=m,l.an.add(m),l.rn.resolve(m)),++l.tn,m.addEventListener("statechange",l.ln)},l.ln=function(d){var m=l.fn,w=d.target,y=w.state,S=w===l.vn,R={sw:w,isExternal:S,originalEvent:d};!S&&l.mn&&(R.isUpdate=!0),l.dispatchEvent(new mt(y,R)),y==="installed"?l.wn=self.setTimeout(function(){y==="installed"&&m.waiting===w&&l.dispatchEvent(new mt("waiting",R))},200):y==="activating"&&(clearTimeout(l.wn),S||l.en.resolve(w))},l.dn=function(d){var m=l.hn,w=m!==navigator.serviceWorker.controller;l.dispatchEvent(new mt("controlling",{isExternal:w,originalEvent:d,sw:m,isUpdate:l.mn})),w||l.on.resolve(m)},l.gn=(v=function(d){var m=d.data,w=d.ports,y=d.source;return Lt(l.getSW(),function(){l.an.has(y)&&l.dispatchEvent(new mt("message",{data:m,originalEvent:d,ports:w,sw:y}))})},function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];try{return Promise.resolve(v.apply(this,d))}catch(w){return Promise.reject(w)}}),l.sn=u,l.nn=c,navigator.serviceWorker.addEventListener("message",l.gn),l}n=r,(e=t).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o,i,a=t.prototype;return a.register=function(u){var c=(u===void 0?{}:u).immediate,l=c!==void 0&&c;try{var v=this;return function(d,m){var w=d();return w&&w.then?w.then(m):m(w)}(function(){if(!l&&document.readyState!=="complete")return Fn(new Promise(function(d){return window.addEventListener("load",d)}))},function(){return v.mn=Boolean(navigator.serviceWorker.controller),v.yn=v.pn(),Lt(v.bn(),function(d){v.fn=d,v.yn&&(v.hn=v.yn,v.en.resolve(v.yn),v.on.resolve(v.yn),v.yn.addEventListener("statechange",v.ln,{once:!0}));var m=v.fn.waiting;return m&&tn(m.scriptURL,v.sn.toString())&&(v.hn=m,Promise.resolve().then(function(){v.dispatchEvent(new mt("waiting",{sw:m,wasWaitingBeforeRegister:!0}))}).then(function(){})),v.hn&&(v.rn.resolve(v.hn),v.an.add(v.hn)),v.fn.addEventListener("updatefound",v.cn),navigator.serviceWorker.addEventListener("controllerchange",v.dn),v.fn})})}catch(d){return Promise.reject(d)}},a.update=function(){try{return this.fn?Fn(this.fn.update()):void 0}catch(u){return Promise.reject(u)}},a.getSW=function(){return this.hn!==void 0?Promise.resolve(this.hn):this.rn.promise},a.messageSW=function(u){try{return Lt(this.getSW(),function(c){return Bn(c,u)})}catch(c){return Promise.reject(c)}},a.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&Bn(this.fn.waiting,Gs)},a.pn=function(){var u=navigator.serviceWorker.controller;return u&&tn(u.scriptURL,this.sn.toString())?u:void 0},a.bn=function(){try{var u=this;return function(c,l){try{var v=c()}catch(d){return l(d)}return v&&v.then?v.then(void 0,l):v}(function(){return Lt(navigator.serviceWorker.register(u.sn,u.nn),function(c){return u.un=performance.now(),c})},function(c){throw c})}catch(c){return Promise.reject(c)}},o=t,(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&Ws(o.prototype,i),t}(function(){function r(){this.Pn=new Map}var e=r.prototype;return e.addEventListener=function(n,t){this.Sn(n).add(t)},e.removeEventListener=function(n,t){this.Sn(n).delete(t)},e.dispatchEvent=function(n){n.target=this;for(var t,o=qs(this.Sn(n.type));!(t=o()).done;)(0,t.value)(n)},e.Sn=function(n){return this.Pn.has(n)||this.Pn.set(n,new Set),this.Pn.get(n)},r}());function Ks(r={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:t,onRegistered:o,onRegisterError:i}=r;let a;const u=async(c=!0)=>{};return"serviceWorker"in navigator&&(a=new Qs("/gesture-drawing/sw.js",{scope:"/gesture-drawing/",type:"classic"}),a.addEventListener("activated",c=>{c.isUpdate?window.location.reload():t==null||t()}),a.register({immediate:e}).then(c=>{o==null||o(c)}).catch(c=>{i==null||i(c)})),u}new js({target:document.body});Ks();
