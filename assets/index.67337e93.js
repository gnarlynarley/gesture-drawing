import{S as H,i as R,s as V,c as T,e as F,a as c,t as B,b as z,l as P,d as ze,u as U,g as J,f as G,h,j as v,k as D,q as De,m as Fe,n as Se,o as Me,p as ce,r as Ie,v as pe,w as k,x as y,y as C,z as L,A as j,B as b,C as W,D as ne,E as He,F as le,G as Re,H as K,I as Ve,J as se,K as Z,L as me,M as S,N as M,O as re,P as de,Q as ie,R as oe,T as Le}from"./vendor.0b9adedf.js";const Oe=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};Oe();function Be(l){let e,t,n,s;const r=l[6].default,i=T(r,l,l[5],null);return{c(){e=F("button"),i&&i.c(),c(e,"class","button svelte-1onfn7v"),c(e,"title",l[4]),e.disabled=l[2],B(e,"has-icon",l[1]),B(e,"primary",l[3]==="primary")},m(o,a){z(o,e,a),i&&i.m(e,null),t=!0,n||(s=P(e,"click",function(){ze(l[0])&&l[0].apply(this,arguments)}),n=!0)},p(o,[a]){l=o,i&&i.p&&(!t||a&32)&&U(i,r,l,l[5],t?G(r,l[5],a,null):J(l[5]),null),(!t||a&16)&&c(e,"title",l[4]),(!t||a&4)&&(e.disabled=l[2]),a&2&&B(e,"has-icon",l[1]),a&8&&B(e,"primary",l[3]==="primary")},i(o){t||(h(i,o),t=!0)},o(o){v(i,o),t=!1},d(o){o&&D(e),i&&i.d(o),n=!1,s()}}}function Ne(l,e,t){let{$$slots:n={},$$scope:s}=e,{onClick:r=void 0}=e,{icon:i=!1}=e,{disabled:o=!1}=e,{variant:a="default"}=e,{title:f=void 0}=e;return l.$$set=u=>{"onClick"in u&&t(0,r=u.onClick),"icon"in u&&t(1,i=u.icon),"disabled"in u&&t(2,o=u.disabled),"variant"in u&&t(3,a=u.variant),"title"in u&&t(4,f=u.title),"$$scope"in u&&t(5,s=u.$$scope)},[r,i,o,a,f,s,n]}class E extends H{constructor(e){super();R(this,e,Ne,Be,V,{onClick:0,icon:1,disabled:2,variant:3,title:4})}}function Pe(l){return l.isFile}function Ee(l){return l.isDirectory}async function je(l,e){if(l===null)return[];let t=[],n=[];for(const s of Array.from(l)){const r=s.webkitGetAsEntry();r&&n.push(r)}for(;n.length>0;){let s=n.shift();if(s===void 0)break;Pe(s)?e(s)&&t.push(qe(s)):Ee(s)&&n.push(...await Ae(s.createReader()))}return Promise.all(t)}async function Ae(l){let e=[],t=await _e(l);for(;t.length>0;)e.push(...t),t=await _e(l);return e}async function qe(l){return new Promise((e,t)=>{l.file(e,t)})}async function _e(l){try{return await new Promise((e,t)=>{l.readEntries(e,t)})}catch(e){return console.log(e),[]}}async function Te(l,e){var n,s;return l.preventDefault(),await je((s=(n=l.dataTransfer)==null?void 0:n.items)!=null?s:null,e)}function Ue(l,{duration:e=400}){const t=getComputedStyle(l).transform.replace("none","").trim();return{easing:De,duration:e,css:n=>`transform: ${t} scale(${n})`}}function Je(l){let e,t,n,s,r;return{c(){e=F("span"),c(e,"style",t=`left: ${l[1]}px; top: ${l[2]}px`),c(e,"class","splash svelte-1cjrfd2")},m(i,o){z(i,e,o),r=!0},p(i,[o]){l=i,(!r||o&6&&t!==(t=`left: ${l[1]}px; top: ${l[2]}px`))&&c(e,"style",t)},i(i){r||(Fe(()=>{s&&s.end(1),n=Se(e,Ue,{duration:l[0]}),n.start()}),r=!0)},o(i){n&&n.invalidate(),s=Me(e,Ie,{}),r=!1},d(i){i&&D(e),i&&s&&s.end()}}}function Ge(l,e,t){let{duration:n}=e,{x:s}=e,{y:r}=e,{onDone:i}=e;const o=setTimeout(()=>{i()},n);return ce(()=>{clearTimeout(o),i()}),l.$$set=a=>{"duration"in a&&t(0,n=a.duration),"x"in a&&t(1,s=a.x),"y"in a&&t(2,r=a.y),"onDone"in a&&t(3,i=a.onDone)},[n,s,r,i]}class Ke extends H{constructor(e){super();R(this,e,Ge,Je,V,{duration:0,x:1,y:2,onDone:3})}}function ge(l,e,t){const n=l.slice();return n[15]=e[t],n}function $e(l,e){let t,n,s;function r(){return e[13](e[15])}return n=new Ke({props:{duration:Qe,x:e[15].x,y:e[15].y,onDone:r}}),{key:l,first:null,c(){t=pe(),k(n.$$.fragment),this.first=t},m(i,o){z(i,t,o),y(n,i,o),s=!0},p(i,o){e=i;const a={};o&16&&(a.x=e[15].x),o&16&&(a.y=e[15].y),o&16&&(a.onDone=r),n.$set(a)},i(i){s||(h(n.$$.fragment,i),s=!0)},o(i){v(n.$$.fragment,i),s=!1},d(i){i&&D(t),C(n,i)}}}function Ze(l){let e,t,n,s,r,i,o=[],a=new Map,f,u,p,d=l[4];const _=g=>g[15];for(let g=0;g<d.length;g+=1){let w=ge(l,d,g),O=_(w);a.set(O,o[g]=$e(O,w))}return{c(){e=F("label"),t=F("input"),n=L(),s=F("span"),r=j(l[0]),i=L();for(let g=0;g<o.length;g+=1)o[g].c();c(t,"type","file"),c(t,"accept","image/*"),c(t,"class","file-input svelte-vce1mu"),t.multiple=!0,c(e,"class","zone svelte-vce1mu"),B(e,"active",l[3])},m(g,w){z(g,e,w),b(e,t),l[12](t),b(e,n),b(e,s),b(s,r),b(e,i);for(let O=0;O<o.length;O+=1)o[O].m(e,null);l[14](e),f=!0,u||(p=[P(t,"change",l[10]),P(e,"drop",l[6]),P(e,"dragover",Xe),P(e,"dragenter",l[8]),P(e,"dragleave",l[9])],u=!0)},p(g,[w]){(!f||w&1)&&W(r,g[0]),w&144&&(d=g[4],ne(),o=He(o,w,_,1,g,d,a,e,Ve,$e,null,ge),le()),w&8&&B(e,"active",g[3])},i(g){if(!f){for(let w=0;w<d.length;w+=1)h(o[w]);f=!0}},o(g){for(let w=0;w<o.length;w+=1)v(o[w]);f=!1},d(g){g&&D(e),l[12](null);for(let w=0;w<o.length;w+=1)o[w].d();l[14](null),u=!1,Re(p)}}}const Qe=300;function Xe(l){l.preventDefault()}function Ye(l,e,t){let n,{onChange:s}=e,{label:r}=e,i,o;const a=se([]);K(l,a,m=>t(4,n=m));let f=!1;async function u(m){m.preventDefault();const $=i.getBoundingClientRect(),N=m.clientX-$.left,X=m.clientY-$.top,Y={x:N,y:X};a.update(te=>te.concat(Y)),t(3,f=!1);const q=await Te(m,te=>/\.(jpg|jpeg|png)$/.test(te.name));s(q)}function p(m){a.update($=>$.filter(N=>N!==m))}function d(m){t(3,f=!0)}function _(m){t(3,f=!1)}function g(){var $;const m=Array.from(($=o.files)!=null?$:[]);s(m),t(2,o.value="",o)}function w(m){Z[m?"unshift":"push"](()=>{o=m,t(2,o)})}const O=m=>p(m);function I(m){Z[m?"unshift":"push"](()=>{i=m,t(1,i)})}return l.$$set=m=>{"onChange"in m&&t(11,s=m.onChange),"label"in m&&t(0,r=m.label)},[r,i,o,f,n,a,u,p,d,_,g,s,w,O,I]}class We extends H{constructor(e){super();R(this,e,Ye,Ze,V,{onChange:11,label:0})}}function xe(l){let e,t;const n=l[1].default,s=T(n,l,l[0],null);return{c(){e=F("div"),s&&s.c(),c(e,"class","container svelte-1posjga")},m(r,i){z(r,e,i),s&&s.m(e,null),t=!0},p(r,[i]){s&&s.p&&(!t||i&1)&&U(s,n,r,r[0],t?G(n,r[0],i,null):J(r[0]),null)},i(r){t||(h(s,r),t=!0)},o(r){v(s,r),t=!1},d(r){r&&D(e),s&&s.d(r)}}}function et(l,e,t){let{$$slots:n={},$$scope:s}=e;return l.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,n]}class ae extends H{constructor(e){super();R(this,e,et,xe,V,{})}}function tt(l){let e,t,n,s,r;const i=l[2].default,o=T(i,l,l[1],null);return{c(){e=F("div"),t=F("div"),n=j(l[0]),s=L(),o&&o.c(),c(t,"class","label svelte-ksk3j4"),c(e,"class","container svelte-ksk3j4")},m(a,f){z(a,e,f),b(e,t),b(t,n),b(e,s),o&&o.m(e,null),r=!0},p(a,[f]){(!r||f&1)&&W(n,a[0]),o&&o.p&&(!r||f&2)&&U(o,i,a,a[1],r?G(i,a[1],f,null):J(a[1]),null)},i(a){r||(h(o,a),r=!0)},o(a){v(o,a),r=!1},d(a){a&&D(e),o&&o.d(a)}}}function nt(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r}=e;return l.$$set=i=>{"label"in i&&t(0,r=i.label),"$$scope"in i&&t(1,s=i.$$scope)},[r,s,n]}class ue extends H{constructor(e){super();R(this,e,nt,tt,V,{label:0})}}function lt(l){let e,t,n;return{c(){e=F("input"),c(e,"type","text"),e.disabled=l[1],c(e,"class","svelte-14t2mii")},m(s,r){z(s,e,r),me(e,l[0]),t||(n=P(e,"input",l[2]),t=!0)},p(s,[r]){r&2&&(e.disabled=s[1]),r&1&&e.value!==s[0]&&me(e,s[0])},i:S,o:S,d(s){s&&D(e),t=!1,n()}}}function st(l,e,t){let{value:n}=e,{disabled:s=!1}=e;function r(){n=this.value,t(0,n)}return l.$$set=i=>{"value"in i&&t(0,n=i.value),"disabled"in i&&t(1,s=i.disabled)},[n,s,r]}class rt extends H{constructor(e){super();R(this,e,st,lt,V,{value:0,disabled:1})}}function it(l){let e,t,n,s,r;return{c(){e=M("svg"),t=M("g"),n=M("rect"),s=M("g"),r=M("path"),c(n,"fill","none"),c(n,"height","24"),c(n,"width","24"),c(r,"d","M12,2C6.49,2,2,6.49,2,12s4.49,10,10,10c1.38,0,2.5-1.12,2.5-2.5c0-0.61-0.23-1.2-0.64-1.67c-0.08-0.1-0.13-0.21-0.13-0.33 c0-0.28,0.22-0.5,0.5-0.5H16c3.31,0,6-2.69,6-6C22,6.04,17.51,2,12,2z M17.5,13c-0.83,0-1.5-0.67-1.5-1.5c0-0.83,0.67-1.5,1.5-1.5 s1.5,0.67,1.5,1.5C19,12.33,18.33,13,17.5,13z M14.5,9C13.67,9,13,8.33,13,7.5C13,6.67,13.67,6,14.5,6S16,6.67,16,7.5 C16,8.33,15.33,9,14.5,9z M5,11.5C5,10.67,5.67,10,6.5,10S8,10.67,8,11.5C8,12.33,7.33,13,6.5,13S5,12.33,5,11.5z M11,7.5 C11,8.33,10.33,9,9.5,9S8,8.33,8,7.5C8,6.67,8.67,6,9.5,6S11,6.67,11,7.5z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"enable-background","new 0 0 24 24"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(i,o){z(i,e,o),b(e,t),b(t,n),b(e,s),b(s,r)},p:S,i:S,o:S,d(i){i&&D(e)}}}class ot extends H{constructor(e){super();R(this,e,null,it,V,{})}}function at(l){let e,t,n;return{c(){e=M("svg"),t=M("path"),n=M("path"),c(t,"d","M0 0h24v24H0V0z"),c(t,"fill","none"),c(n,"d","M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(s,r){z(s,e,r),b(e,t),b(e,n)},p:S,i:S,o:S,d(s){s&&D(e)}}}class ut extends H{constructor(e){super();R(this,e,null,at,V,{})}}function ft(l){let e,t,n;return{c(){e=M("svg"),t=M("path"),n=M("path"),c(t,"d","M0 0h24v24H0V0z"),c(t,"fill","none"),c(n,"d","M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(s,r){z(s,e,r),b(e,t),b(e,n)},p:S,i:S,o:S,d(s){s&&D(e)}}}class ct extends H{constructor(e){super();R(this,e,null,ft,V,{})}}function pt(l,e){window.localStorage.setItem(l,JSON.stringify(e))}function mt(l){try{const e=window.localStorage.getItem(l);return e!==null?JSON.parse(e):null}catch{return null}}const he="settings:v1",dt={color:!0,flippedHorizontal:!1,flippedVertical:!1};var Ce;const A=se((Ce=mt(he))!=null?Ce:dt);A.subscribe(l=>{pt(he,l)});function _t(l){let e,t;return e=new ot({}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function gt(l){let e,t;return e=new ut({}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function $t(l){let e,t;return e=new ct({}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function ht(l){let e,t,n,s,r,i;return e=new E({props:{title:"Enable/Disable color",variant:l[0].color?"primary":"default",icon:!0,onClick:l[1],$$slots:{default:[_t]},$$scope:{ctx:l}}}),n=new E({props:{title:"Flip image horizontally",variant:l[0].flippedHorizontal?"primary":"default",icon:!0,onClick:l[2],$$slots:{default:[gt]},$$scope:{ctx:l}}}),r=new E({props:{title:"Flip image vertically",variant:l[0].flippedVertical?"primary":"default",icon:!0,onClick:l[3],$$slots:{default:[$t]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment),t=L(),k(n.$$.fragment),s=L(),k(r.$$.fragment)},m(o,a){y(e,o,a),z(o,t,a),y(n,o,a),z(o,s,a),y(r,o,a),i=!0},p(o,a){const f={};a&1&&(f.variant=o[0].color?"primary":"default"),a&1&&(f.onClick=o[1]),a&16&&(f.$$scope={dirty:a,ctx:o}),e.$set(f);const u={};a&1&&(u.variant=o[0].flippedHorizontal?"primary":"default"),a&1&&(u.onClick=o[2]),a&16&&(u.$$scope={dirty:a,ctx:o}),n.$set(u);const p={};a&1&&(p.variant=o[0].flippedVertical?"primary":"default"),a&1&&(p.onClick=o[3]),a&16&&(p.$$scope={dirty:a,ctx:o}),r.$set(p)},i(o){i||(h(e.$$.fragment,o),h(n.$$.fragment,o),h(r.$$.fragment,o),i=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(r.$$.fragment,o),i=!1},d(o){C(e,o),o&&D(t),C(n,o),o&&D(s),C(r,o)}}}function vt(l){let e,t;return e=new ae({props:{$$slots:{default:[ht]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},p(n,[s]){const r={};s&17&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function bt(l,e,t){let n;return K(l,A,o=>t(0,n=o)),[n,()=>{re(A,n.color=!n.color,n)},()=>{re(A,n.flippedHorizontal=!n.flippedHorizontal,n)},()=>{re(A,n.flippedVertical=!n.flippedVertical,n)}]}class ve extends H{constructor(e){super();R(this,e,bt,vt,V,{})}}function wt(l){let e,t,n,s,r,i,o,a,f;const u=l[3].default,p=T(u,l,l[6],null);return{c(){e=F("label"),t=F("input"),n=L(),s=F("span"),r=j(l[1]),i=L(),p&&p.c(),c(t,"type","radio"),t.__value=l[2],t.value=t.__value,l[5][0].push(t),c(s,"class","label svelte-1co2hm2"),c(e,"class","container svelte-1co2hm2")},m(d,_){z(d,e,_),b(e,t),t.checked=t.__value===l[0],b(e,n),b(e,s),b(s,r),z(d,i,_),p&&p.m(d,_),o=!0,a||(f=P(t,"change",l[4]),a=!0)},p(d,_){(!o||_&4)&&(t.__value=d[2],t.value=t.__value),_&1&&(t.checked=t.__value===d[0]),(!o||_&2)&&W(r,d[1]),p&&p.p&&(!o||_&64)&&U(p,u,d,d[6],o?G(u,d[6],_,null):J(d[6]),null)},i(d){o||(h(p,d),o=!0)},o(d){v(p,d),o=!1},d(d){d&&D(e),l[5][0].splice(l[5][0].indexOf(t),1),d&&D(i),p&&p.d(d),a=!1,f()}}}function kt(l){let e,t;return e=new ae({props:{$$slots:{default:[wt]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},p(n,[s]){const r={};s&71&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function yt(l,e,t){let{$$slots:n={},$$scope:s}=e,{label:r}=e,{group:i}=e,{value:o}=e;const a=[[]];function f(){i=this.__value,t(0,i)}return l.$$set=u=>{"label"in u&&t(1,r=u.label),"group"in u&&t(0,i=u.group),"value"in u&&t(2,o=u.value),"$$scope"in u&&t(6,s=u.$$scope)},[i,r,o,n,f,a,s]}class be extends H{constructor(e){super();R(this,e,yt,kt,V,{label:1,group:0,value:2})}}function Ct(l){let e,t;const n=l[1].default,s=T(n,l,l[0],null);return{c(){e=F("div"),s&&s.c(),c(e,"class","container svelte-1eflcwv")},m(r,i){z(r,e,i),s&&s.m(e,null),t=!0},p(r,[i]){s&&s.p&&(!t||i&1)&&U(s,n,r,r[0],t?G(n,r[0],i,null):J(r[0]),null)},i(r){t||(h(s,r),t=!0)},o(r){v(s,r),t=!1},d(r){r&&D(e),s&&s.d(r)}}}function zt(l,e,t){let{$$slots:n={},$$scope:s}=e;return l.$$set=r=>{"$$scope"in r&&t(0,s=r.$$scope)},[s,n]}class fe extends H{constructor(e){super();R(this,e,zt,Ct,V,{})}}const Q=se([]);function Dt(l){Q.update(e=>e.concat(l))}async function Ft(){Q.set([])}Q.subscribe(l=>{console.log("references updates",l)});const St=/(\d+?)h/,Mt=/(\d+?)m/,It=/(\d+?)s/,Ht=/(\d+?)$/;function Rt(l){const e=Number.parseFloat(l);return Number.isNaN(e)?null:e}function x(l,e){var n;const t=e.exec(l);return t&&(n=Rt(t[1]))!=null?n:0}function Vt(l){const e=l.trim(),t=x(e,St),n=x(e,Mt),s=x(e,It),r=x(e,Ht);return t*60*60+n*60+s+r}function Lt(l){var t;const e=Math.floor(Math.random()*l.length);return console.log(e),(t=l[e])!=null?t:null}function Ot(l){let e,t,n;return{c(){e=M("svg"),t=M("path"),n=M("path"),c(t,"d","M0 0h24v24H0z"),c(t,"fill","none"),c(n,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(s,r){z(s,e,r),b(e,t),b(e,n)},p:S,i:S,o:S,d(s){s&&D(e)}}}class Bt extends H{constructor(e){super();R(this,e,null,Ot,V,{})}}function Nt(l){let e,t,n;return{c(){e=M("svg"),t=M("path"),n=M("path"),c(t,"d","M0 0h24v24H0z"),c(t,"fill","none"),c(n,"d","M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(s,r){z(s,e,r),b(e,t),b(e,n)},p:S,i:S,o:S,d(s){s&&D(e)}}}class Pt extends H{constructor(e){super();R(this,e,null,Nt,V,{})}}function Et(l){let e,t,n;return{c(){e=M("svg"),t=M("path"),n=M("path"),c(t,"d","M0 0h24v24H0z"),c(t,"fill","none"),c(n,"d","M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"height","24px"),c(e,"viewBox","0 0 24 24"),c(e,"width","24px"),c(e,"fill","#000000")},m(s,r){z(s,e,r),b(e,t),b(e,n)},p:S,i:S,o:S,d(s){s&&D(e)}}}class jt extends H{constructor(e){super();R(this,e,null,Et,V,{})}}function At(l){let e,t,n;return{c(){e=F("div"),t=F("span"),c(t,"class","bar svelte-102lztv"),c(t,"style",n=`transform: scale(${l[0]}, 1);`),c(e,"class","container svelte-102lztv")},m(s,r){z(s,e,r),b(e,t)},p(s,[r]){r&1&&n!==(n=`transform: scale(${s[0]}, 1);`)&&c(t,"style",n)},i:S,o:S,d(s){s&&D(e)}}}function qt(l,e,t){let n,{value:s}=e,{limit:r}=e;return l.$$set=i=>{"value"in i&&t(1,s=i.value),"limit"in i&&t(2,r=i.limit)},l.$$.update=()=>{l.$$.dirty&6&&t(0,n=Math.min(s/r,1))},[n,s,r]}class Tt extends H{constructor(e){super();R(this,e,qt,At,V,{value:1,limit:2})}}function we(l){let e,t,n,s,r,i;return{c(){var o;e=F("button"),t=F("img"),c(t,"class","image svelte-o4fg5y"),de(t.src,n=l[5])||c(t,"src",n),c(t,"alt",s=((o=l[3])==null?void 0:o.name)||""),c(e,"type","button"),c(e,"class","svelte-o4fg5y")},m(o,a){z(o,e,a),b(e,t),r||(i=P(e,"click",l[7]),r=!0)},p(o,a){var f;a&32&&!de(t.src,n=o[5])&&c(t,"src",n),a&8&&s!==(s=((f=o[3])==null?void 0:f.name)||"")&&c(t,"alt",s)},d(o){o&&D(e),r=!1,i()}}}function Ut(l){let e,t;return e=new jt({}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function Jt(l){let e,t;return e=new Pt({}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function Gt(l){let e,t;return e=new Bt({}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function Kt(l){let e,t,n,s,r,i,o,a,f,u,p,d,_,g,w,O,I=l[5]!==null&&we(l);return r=new Tt({props:{limit:l[1],value:l[4]}}),a=new ve({}),p=new E({props:{icon:!0,onClick:l[8],$$slots:{default:[Ut]},$$scope:{ctx:l}}}),_=new E({props:{icon:!0,onClick:Zt,$$slots:{default:[Jt]},$$scope:{ctx:l}}}),w=new E({props:{icon:!0,onClick:l[0],$$slots:{default:[Gt]},$$scope:{ctx:l}}}),{c(){e=F("div"),t=F("div"),I&&I.c(),n=L(),s=F("div"),k(r.$$.fragment),i=L(),o=F("div"),k(a.$$.fragment),f=L(),u=F("div"),k(p.$$.fragment),d=L(),k(_.$$.fragment),g=L(),k(w.$$.fragment),c(t,"class","main svelte-o4fg5y"),c(s,"class","progress svelte-o4fg5y"),c(o,"class","header svelte-o4fg5y"),c(e,"class","container svelte-o4fg5y"),B(e,"is-grayscale",!l[6].color),B(e,"is-horizontally-flipped",l[6].flippedHorizontal),B(e,"is-vertically-flipped",l[6].flippedVertical),B(e,"is-paused",l[2]==="paused")},m(m,$){z(m,e,$),b(e,t),I&&I.m(t,null),b(e,n),b(e,s),y(r,s,null),b(e,i),b(e,o),y(a,o,null),b(o,f),b(o,u),y(p,u,null),b(u,d),y(_,u,null),b(u,g),y(w,u,null),O=!0},p(m,[$]){m[5]!==null?I?I.p(m,$):(I=we(m),I.c(),I.m(t,null)):I&&(I.d(1),I=null);const N={};$&2&&(N.limit=m[1]),$&16&&(N.value=m[4]),r.$set(N);const X={};$&65536&&(X.$$scope={dirty:$,ctx:m}),p.$set(X);const Y={};$&65536&&(Y.$$scope={dirty:$,ctx:m}),_.$set(Y);const q={};$&1&&(q.onClick=m[0]),$&65536&&(q.$$scope={dirty:$,ctx:m}),w.$set(q),$&64&&B(e,"is-grayscale",!m[6].color),$&64&&B(e,"is-horizontally-flipped",m[6].flippedHorizontal),$&64&&B(e,"is-vertically-flipped",m[6].flippedVertical),$&4&&B(e,"is-paused",m[2]==="paused")},i(m){O||(h(r.$$.fragment,m),h(a.$$.fragment,m),h(p.$$.fragment,m),h(_.$$.fragment,m),h(w.$$.fragment,m),O=!0)},o(m){v(r.$$.fragment,m),v(a.$$.fragment,m),v(p.$$.fragment,m),v(_.$$.fragment,m),v(w.$$.fragment,m),O=!1},d(m){m&&D(e),I&&I.d(),C(r),C(a),C(p),C(_),C(w)}}}function Zt(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}function Qt(l,e,t){let n,s;K(l,Q,$=>t(11,n=$)),K(l,A,$=>t(6,s=$));let{onDone:r}=e,{duration:i}=e,o="paused",a=0,f=[...n];function u(){t(2,o=o==="playing"?"paused":"playing")}function p(){const $=Lt(n);if($){const N=f.indexOf($);N!==-1&&(f.splice(N,1),f=f)}return $}let d=p(),_=null,g=null;function w(){g!==null&&clearInterval(g),t(2,o="paused"),t(4,a=0),t(3,d=p())}ce(()=>{g!==null&&clearInterval(g)});function O($){if($==="playing"&&d){const N=100;g=window.setInterval(()=>{t(4,a+=N),a>i&&t(3,d=p())},N)}else g!==null&&clearInterval(g)}function I($){g!==null&&clearInterval(g),t(2,o="paused"),t(4,a=0),$&&t(2,o="playing")}function m($){_!==null&&URL.revokeObjectURL(_),$!==null&&t(5,_=URL.createObjectURL($))}return l.$$set=$=>{"onDone"in $&&t(0,r=$.onDone),"duration"in $&&t(1,i=$.duration)},l.$$.update=()=>{l.$$.dirty&8&&I(d),l.$$.dirty&4&&O(o),l.$$.dirty&8&&m(d)},[r,i,o,d,a,_,s,u,w]}class Xt extends H{constructor(e){super();R(this,e,Qt,Kt,V,{onDone:0,duration:1})}}function Yt(l){l!==!1?window.onbeforeunload=()=>"":window.onbeforeunload=()=>{}}function ke(l,e,t){const n=l.slice();return n[3]=e[t],n}function Wt(l){let e,t;return e=new Xt({props:{onDone:l[8],duration:l[3]*1e3}}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},p(n,s){const r={};s&8&&(r.duration=n[3]*1e3),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function xt(l){let e,t,n,s,r,i,o;return n=new We({props:{label:"Drag references or click to browse",onChange:Dt}}),i=new fe({props:{$$slots:{default:[fn]},$$scope:{ctx:l}}}),{c(){e=F("div"),t=F("div"),k(n.$$.fragment),s=L(),r=F("div"),k(i.$$.fragment),c(t,"class","drop-zone content svelte-pw694r"),c(r,"class","button-bar content svelte-pw694r"),c(e,"class","container svelte-pw694r")},m(a,f){z(a,e,f),b(e,t),y(n,t,null),b(e,s),b(e,r),y(i,r,null),o=!0},p(a,f){const u={};f&16423&&(u.$$scope={dirty:f,ctx:a}),i.$set(u)},i(a){o||(h(n.$$.fragment,a),h(i.$$.fragment,a),o=!0)},o(a){v(n.$$.fragment,a),v(i.$$.fragment,a),o=!1},d(a){a&&D(e),C(n),C(i)}}}function ye(l){let e,t,n;function s(i){l[9](i)}let r={label:l[3],value:l[3]};return l[0]!==void 0&&(r.group=l[0]),e=new be({props:r}),Z.push(()=>oe(e,"group",s)),{c(){k(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};!t&&o&1&&(t=!0,a.group=i[0],ie(()=>t=!1)),e.$set(a)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){C(e,i)}}}function en(l){let e,t,n;function s(i){l[10](i)}let r={disabled:l[0]!==ee};return l[1]!==void 0&&(r.value=l[1]),e=new rt({props:r}),Z.push(()=>oe(e,"value",s)),{c(){k(e.$$.fragment)},m(i,o){y(e,i,o),n=!0},p(i,o){const a={};o&1&&(a.disabled=i[0]!==ee),!t&&o&2&&(t=!0,a.value=i[1],ie(()=>t=!1)),e.$set(a)},i(i){n||(h(e.$$.fragment,i),n=!0)},o(i){v(e.$$.fragment,i),n=!1},d(i){C(e,i)}}}function tn(l){let e,t,n,s,r=l[6],i=[];for(let u=0;u<r.length;u+=1)i[u]=ye(ke(l,r,u));const o=u=>v(i[u],1,1,()=>{i[u]=null});function a(u){l[11](u)}let f={label:"Custom",value:ee,$$slots:{default:[en]},$$scope:{ctx:l}};return l[0]!==void 0&&(f.group=l[0]),t=new be({props:f}),Z.push(()=>oe(t,"group",a)),{c(){for(let u=0;u<i.length;u+=1)i[u].c();e=L(),k(t.$$.fragment)},m(u,p){for(let d=0;d<i.length;d+=1)i[d].m(u,p);z(u,e,p),y(t,u,p),s=!0},p(u,p){if(p&65){r=u[6];let _;for(_=0;_<r.length;_+=1){const g=ke(u,r,_);i[_]?(i[_].p(g,p),h(i[_],1)):(i[_]=ye(g),i[_].c(),h(i[_],1),i[_].m(e.parentNode,e))}for(ne(),_=r.length;_<i.length;_+=1)o(_);le()}const d={};p&16387&&(d.$$scope={dirty:p,ctx:u}),!n&&p&1&&(n=!0,d.group=u[0],ie(()=>n=!1)),t.$set(d)},i(u){if(!s){for(let p=0;p<r.length;p+=1)h(i[p]);h(t.$$.fragment,u),s=!0}},o(u){i=i.filter(Boolean);for(let p=0;p<i.length;p+=1)v(i[p]);v(t.$$.fragment,u),s=!1},d(u){Le(i,u),u&&D(e),C(t,u)}}}function nn(l){let e,t;return e=new fe({props:{$$slots:{default:[tn]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},p(n,s){const r={};s&16387&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function ln(l){let e,t;return e=new ve({}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function sn(l){let e;return{c(){e=j("Remove all references")},m(t,n){z(t,e,n)},d(t){t&&D(e)}}}function rn(l){let e,t,n=l[2].length+"",s,r,i,o;return i=new E({props:{onClick:Ft,$$slots:{default:[sn]},$$scope:{ctx:l}}}),{c(){e=F("p"),t=j("Reference files loaded: "),s=j(n),r=L(),k(i.$$.fragment)},m(a,f){z(a,e,f),b(e,t),b(e,s),z(a,r,f),y(i,a,f),o=!0},p(a,f){(!o||f&4)&&n!==(n=a[2].length+"")&&W(s,n);const u={};f&16384&&(u.$$scope={dirty:f,ctx:a}),i.$set(u)},i(a){o||(h(i.$$.fragment,a),o=!0)},o(a){v(i.$$.fragment,a),o=!1},d(a){a&&D(e),a&&D(r),C(i,a)}}}function on(l){let e,t;return e=new fe({props:{$$slots:{default:[rn]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},p(n,s){const r={};s&16388&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function an(l){let e;return{c(){e=j("Start")},m(t,n){z(t,e,n)},d(t){t&&D(e)}}}function un(l){let e,t;return e=new E({props:{variant:"primary",disabled:!l[5],onClick:l[7],$$slots:{default:[an]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment)},m(n,s){y(e,n,s),t=!0},p(n,s){const r={};s&32&&(r.disabled=!n[5]),s&16384&&(r.$$scope={dirty:s,ctx:n}),e.$set(r)},i(n){t||(h(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){C(e,n)}}}function fn(l){let e,t,n,s,r,i,o,a;return e=new ue({props:{label:"Duration",$$slots:{default:[nn]},$$scope:{ctx:l}}}),n=new ue({props:{label:"Settings",$$slots:{default:[ln]},$$scope:{ctx:l}}}),r=new ue({props:{label:"Reference files",$$slots:{default:[on]},$$scope:{ctx:l}}}),o=new ae({props:{$$slots:{default:[un]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment),t=L(),k(n.$$.fragment),s=L(),k(r.$$.fragment),i=L(),k(o.$$.fragment)},m(f,u){y(e,f,u),z(f,t,u),y(n,f,u),z(f,s,u),y(r,f,u),z(f,i,u),y(o,f,u),a=!0},p(f,u){const p={};u&16387&&(p.$$scope={dirty:u,ctx:f}),e.$set(p);const d={};u&16384&&(d.$$scope={dirty:u,ctx:f}),n.$set(d);const _={};u&16388&&(_.$$scope={dirty:u,ctx:f}),r.$set(_);const g={};u&16416&&(g.$$scope={dirty:u,ctx:f}),o.$set(g)},i(f){a||(h(e.$$.fragment,f),h(n.$$.fragment,f),h(r.$$.fragment,f),h(o.$$.fragment,f),a=!0)},o(f){v(e.$$.fragment,f),v(n.$$.fragment,f),v(r.$$.fragment,f),v(o.$$.fragment,f),a=!1},d(f){C(e,f),f&&D(t),C(n,f),f&&D(s),C(r,f),f&&D(i),C(o,f)}}}function cn(l){let e,t,n,s;const r=[xt,Wt],i=[];function o(a,f){return a[4]==="menu"?0:a[4]==="practice"?1:-1}return~(e=o(l))&&(t=i[e]=r[e](l)),{c(){t&&t.c(),n=pe()},m(a,f){~e&&i[e].m(a,f),z(a,n,f),s=!0},p(a,[f]){let u=e;e=o(a),e===u?~e&&i[e].p(a,f):(t&&(ne(),v(i[u],1,1,()=>{i[u]=null}),le()),~e?(t=i[e],t?t.p(a,f):(t=i[e]=r[e](a),t.c()),h(t,1),t.m(n.parentNode,n)):t=null)},i(a){s||(h(t),s=!0)},o(a){v(t),s=!1},d(a){~e&&i[e].d(a),a&&D(n)}}}const ee="custom";function pn(l,e,t){let n,s,r;K(l,Q,w=>t(2,r=w));const i=["30s","1m","1m30s","2m","5m"];let o=i[0],a="1m30s",f="menu";function u(){t(4,f="practice")}function p(){t(4,f="menu")}function d(w){o=w,t(0,o)}function _(w){a=w,t(1,a)}function g(w){o=w,t(0,o)}return l.$$.update=()=>{l.$$.dirty&3&&t(3,n=Vt(o===ee?a:o)),l.$$.dirty&12&&t(5,s=n!==0&&r.length>0),l.$$.dirty&4&&Yt(r.length>0?"this is blocked":!1)},[o,a,r,n,f,s,i,u,p,d,_,g]}class mn extends H{constructor(e){super();R(this,e,pn,cn,V,{})}}new mn({target:document.body});
